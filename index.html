<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  
  <meta http-equiv='cache-control' content='no-cache'>
  <meta http-equiv='expires' content='0'>
  <meta http-equiv='pragma' content='no-cache'>

  <!-- <meta http-equiv="EXPIRES" content="Mon, 24 April 2023 11:00:00 GMT" /> -->

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <!--title>zSheets - Game</title-->
  <title>Game</title>
  <link rel="stylesheet" href="css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
  <link rel="stylesheet" href="slick/slick.css?version=1.0" />
  <link rel="stylesheet" href="slick/slick-theme.css?version=1.0" />
  <link rel="stylesheet" href="css/style.css?version=1.0" />
  <link rel="icon" type="image/x-icon" href="icon_game.png?version=1.0" />
  <link rel="apple-touch-icon" href="icon_game.png?version=1.0" />


  <link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&display=swap" rel="stylesheet" />

</head>

<script src="js-package/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>
<script src="js-package/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="slick/slick.js"></script>
<script src="js-package/moment.min.js"
  integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
  crossorigin="anonymous"></script>
<script src="js-package/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
  crossorigin="anonymous"></script>
<script src="js-package/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"></script>

  <script src="js-package/qrcode.min.js"></script>


<!-- <script src="js-package/store.legacy.min.js"></script> -->
<script src="js-package/jjlc.min.js"></script>
<script src="js-package/ServiceWorkerUpdateListener.min.js"></script>
<script src="js-package/version.js?version=1.4"></script>


<body class="page_greek d-flex flex-column min-vh-100">
  
  <header id="page-header" class="game_header pt-4">
		<div class="container">
			<div class="game_logo" onclick="">
				<img src="images/icon_game.png?version=1.4" alt="" class="img-fluid mr-3" width="60"/>
				<img src="images/icon_zsheets.png?version=1.4" alt="" class="img-fluid" width="200"/>
			</div>
			<h1 class="h2 header_title mt-md-5 mt-4 font-poppins">Manage Your Game Library</h1>
		</div>
    <p id="versionId" style="position: absolute; top: 0.5em; right: 1em; color: #FFFFFF90; font-family: DINCondensed-Bold;"></p>
	</header>

  <!--- Modal View Start-->
  <div class="modal fade" id="myModal2" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" id="goModal2">
        
        <div style="position: absolute;">
          <p style="position: relative;
          top: -8.2em;
          font-size: 1.3em; font-family: eurostile; color: #8B5E3B; letter-spacing: 2px; margin-left: -2.2em;">VIEW GAMES BY</p>
        </div>
        
        <div class="playerContainer">
          
          <div id="btnMinusPlayer" class="card-header ak_card_minus" style="z-index: 999999;">
            <img src="images/ear_icon_minus.png?version=1.4" width="25px" height="auto" alt="" onclick="onDecreasePlayers()" />
          </div>
          <label id="playerTotal" class="playerFilter">1</label>
          <div id="btnPlusPlayer" class="card-header ak_card_plus" style="z-index: 999998;">
            <img src="images/ear_icon_plus.png?version=1.4" width="25px" height="auto"  alt="" onclick="onIncreasePlayers()" />
          </div>
          <label class="cBoxContainer">
            <input id="cBoxPlayer" type="checkbox" onclick="onPlayerCheckClick()">
            <span class="cBoxCheckmark">
              <img id="playerIcon" src="images/earshot-games_icon_count.png?version=1.4" style="position: relative;
              width: 100%;
              height: 100%;
              top: 0.2em;" alt=""/>
            </span>
          </label>
          <label class="playerLabel" style="pointer-events: none;">Player Count</label>
        </div>

        
        <div class="timeContainer">
          
          <div id="btnMinusTime" class="card-header ak_card_minus" style="z-index: 999999;">
            <img src="images/ear_icon_minus.png?version=1.4" width="25px" height="auto" alt="" onclick="onDecreaseTime()" />
          </div>
          <label id="timeTotal" class="timeFilter">15</label>
          <label id="minTxt" style="font-size: 0.6em;
          position: absolute;
          top: 7.8em;
          z-index: 9;
          left: 0em; display: none; color: #845F41;">MINS</label>
          <div id="btnPlusTime" class="card-header ak_card_plus" style="z-index: 999998;">
            <img src="images/ear_icon_plus.png?version=1.4" width="25px" height="auto"  alt="" onclick="onIncreaseTime()" />
          </div>
          <label class="cBoxContainer">
            <input id="cBoxTime" type="checkbox" onclick="onTimeCheckClick()">
            <span class="cBoxCheckmark">
              <img id="timerIcon" src="images/earshot-games_icon_duration.png?version=1.4" style="position: relative;
              width: 100%;
              height: 100%;
              top: 0.2em;" alt=""/>
            </span>
          </label>

          <label class="timeLabel" style="pointer-events: none;">Duration</label>
        </div>

        <div style="position: absolute;">
          <p style="position: relative;
          top: -3.9em;
          font-size: 0.8em; font-family: eurostile; color: #F6D8A0; letter-spacing: 2px; left:-2.2em">GAME TYPE</p>
        </div>

       <!--  <div class="timeContainer"> -->
          <div class="mechanics">
              <div style="position:relative; top: -2.5em; left: -2.1em;">
                
                <label class="cBoxContainer">
                  <input id="cBoxStrategy" type="checkbox" onclick="onStrategyCheckClick()">
                  <span class="cBoxCheckmark">
                    <img src="images/earshot-games_icon_strategy.png?version=1.4" style="position: relative;
              width: 100%;
              height: 100%;
              top: 0.2em;" alt=""/>
                  </span>
                </label>
                <label class="mechanicLabel" style="pointer-events: none;">STRATEGIC</label>
              </div>

            <div style="position:relative; top: -2.5em; left:3.4em">
              
              <label class="cBoxContainer">
                <input id="cBoxStory" type="checkbox" onclick="onStoryCheckClick()">
                <span class="cBoxCheckmark">
                  <img src="images/earshot-games_icon_story.png?version=1.4" style="position: relative;
              width: 100%;
              height: 100%;
              top: 0.2em;" alt=""/>
                </span>
              </label>
              <label class="mechanicLabel" style="pointer-events: none;">STORYTELLING</label>
            </div>

            <div style="position:relative; top: 3em; left: -2.1em;">
              
              <label class="cBoxContainer">
                <input id="cBoxParty" type="checkbox" onclick="onPartyCheckClick()">
                <span class="cBoxCheckmark">
                  <img src="images/earshot-games_icon_party.png?version=1.4" style="position: relative;
              width: 100%;
              height: 100%;
              top: 0.2em;" alt=""/>
                </span>
              </label>
              <label class="mechanicLabel" style="pointer-events: none;">PARTY</label>
            </div>
            <div style="position:relative; top: 3em; left: 3.4em;">
              <label class="cBoxContainer">
                <input id="cBoxCo" type="checkbox" onclick="onCoCheckClick()">
                <span class="cBoxCheckmark">
                  <img src="images/earshot-games_icon_coop.png?version=1.4" style="position: relative;
              width: 100%;
              height: 100%;
              top: 0.2em;" alt=""/>
                </span>
              </label>
              <label class="mechanicLabel" style="pointer-events: none;">CO-OP</label>
            </div>


            <!-- <div style="position:relative; top: 7.2em;">
              <label class="mechanicLabel">DECK BUILDING</label>
              <label class="cBoxContainer">
                <input id="cBoxDb" type="checkbox" onclick="onDbCheckClick()">
                <span class="cBoxCheckmark"></span>
              </label>
            </div>
            <div style="position:relative; top: 9em;">
              <label class="mechanicLabel">STORYTELLING</label>
              <label class="cBoxContainer">
                <input id="cBoxSt" type="checkbox" onclick="onStCheckClick()">
                <span class="cBoxCheckmark"></span>
              </label>
            </div>
            <div style="position:relative; top: 10.8em;">
              <label class="mechanicLabel">DEDUCTION</label>
              <label class="cBoxContainer">
                <input id="cBoxDed" type="checkbox" onclick="onDedCheckClick()">
                <span class="cBoxCheckmark"></span>
              </label>
              left: 3.5em;
              top: -2.3em;
            </div> -->
            <div id="searchFilter" style="position: absolute;
            left: -1.5em;
            top: -3.8em;
            display: block; display: none; z-index: 9999999;">
              <img src="./css/Reload-1s-200px.svg?version=1.4" width="120" height="120" class="image_id text-center" alt="" />
            </div>
          </div>


          <!-- -->
          <div style="position: absolute; top:2.3em; right: 0.9em; display: flex; flex-direction: column; gap: 3.2px;">
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 2.8em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBox123" type="checkbox" onclick="onLetterClick('123')">
                <span class="cBoxCheckmarkLetter-123">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">@123</label>
            </div>
          </div>


          <div style="position: absolute; top:3.85em; right: 2.4em; display: flex; flex-direction: column; gap: 6.4px;">
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxA" type="checkbox" onclick="onLetterClick('A')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">A</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxB" type="checkbox" onclick="onLetterClick('B')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">B</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxC" type="checkbox" onclick="onLetterClick('C')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color:#8B5E3B;">C</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxD" type="checkbox" onclick="onLetterClick('D')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">D</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxE" type="checkbox" onclick="onLetterClick('E')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">E</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxF" type="checkbox" onclick="onLetterClick('F')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">F</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxG" type="checkbox" onclick="onLetterClick('G')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">G</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxH" type="checkbox" onclick="onLetterClick('H')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">H</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxI" type="checkbox" onclick="onLetterClick('I')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">I</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxJ" type="checkbox" onclick="onLetterClick('J')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">J</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxK" type="checkbox" onclick="onLetterClick('K')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">K</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxL" type="checkbox" onclick="onLetterClick('L')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">L</label>
            </div>
            <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
              <label class="cBoxContainer">
                <input id="cBoxM" type="checkbox" onclick="onLetterClick('M')">
                <span class="cBoxCheckmarkLetter">
                </span>
              </label>
              <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">M</label>
            </div>
        </div>


        <div style="position: absolute; top:3.85em; right: 0.9em; display: flex; flex-direction: column; gap: 6.4px;">
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxN" type="checkbox" onclick="onLetterClick('N')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">N</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxO" type="checkbox" onclick="onLetterClick('O')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">O</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxP" type="checkbox" onclick="onLetterClick('P')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">P</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxQ" type="checkbox" onclick="onLetterClick('Q')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">Q</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxR" type="checkbox" onclick="onLetterClick('R')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">R</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxS" type="checkbox" onclick="onLetterClick('S')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">S</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxT" type="checkbox" onclick="onLetterClick('T')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">T</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxU" type="checkbox" onclick="onLetterClick('U')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">U</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxV" type="checkbox" onclick="onLetterClick('V')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">V</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxW" type="checkbox" onclick="onLetterClick('W')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">W</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxX" type="checkbox" onclick="onLetterClick('X')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">X</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxY" type="checkbox" onclick="onLetterClick('Y')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">Y</label>
          </div>
          <div style="position:relative; top: 0em; left: 0em;  background-color: #F8D6A4; width: 1.3em; height: 1.3em; text-align: center;">
            <label class="cBoxContainer">
              <input id="cBoxZ" type="checkbox" onclick="onLetterClick('Z')">
              <span class="cBoxCheckmarkLetter">
              </span>
            </label>
            <label class="mechanicLabelLetter" style="pointer-events: none; top: -0.4em; color: #8B5E3B;">Z</label>
          </div>
        </div>
          <!-- -->
          <!-- <div style="position: absolute; top:2.4em; right: 1.8em; display: flex; flex-direction: column; gap: 3px;">
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">A</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">B</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">C</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">D</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">E</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">F</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">G</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">H</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">I</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">J</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">K</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">L</button>
              <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">M</button>
          </div>
          <div style="position: absolute; top:2.4em; right: 0.5em; display: flex; flex-direction: column; gap: 3px;">
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">N</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">O</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">P</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">Q</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">R</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">S</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">T</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">U</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">V</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">W</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">X</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">Y</button>
            <button style="position: relative; background-color: #F8D6A4; color: #8B5E3B; border: 0;">Z</button>
        </div> -->
        
        <!-- </div> -->

        <div style="position:relative; top: 11.3em; left: -5.8em;" onclick="ResetFilterItems();">
          <img src="images/earshot-games_btn_reset.png?version=1.4" width = "62px" alt="" />
        </div>

        <div style="position:relative; top: 8.7em; left: -0.3em;" onclick="hideFilterBox();">
          <img src="images/earshot-games_btn_go.png?version=1.4" width = "220px" alt="" />
        </div>

      </div>
    </div>
  </div>
  <!-- Modal View End -->
  <!-- List / Slideshow View Start -->
  <div class="container mt-2 mb-5">
    <div class="row">
      <div class="col-md-12 list-view-section" style="padding-top: 10px;">
        <div class="row bg-alto header-row-section mx-0 d-none align-items-center position-sticky sticky-top" style="display: flex; top:10px">
            <div class="col p-0">
              <div class="bg-alto py-1 my-0 px-2 preview_title pointer-cursor text-left">
                <button id="btnSlideShow" class="btn btn-outline-primary" onClick="viewSlideShowHTML();">SLIDESHOW</button>
                <button id="btnFindList" class="btn btn-outline-primary" onClick="viewSearchPanel();">FIND</button>
              </div>
            </div>
            <div class="col-auto-grid">
                <div class="pagination-bar d-flex justify-content-end">
                  <a id="prevLink" href="javascript:;" class="page-pre text-right text-uppercase">Prev</a>
                  <div class="pagination-pages"></div>
                  <a id="nextLink" href="javascript:;" class="page-next text-right text-uppercase">Next</a>
                </div>
            </div>
        </div>
        <div style="position: fixed;
        width: 100%;
        left: 0px;
        background-color: white;
        height: 113px;
        z-index: 99;
        top: -52px;"></div>
        <!--<div class="image_slider"> </div>-->
        <div class="cardList"></div>
      </div>
      <div class="col-md-12 list-slideshow-section d-none">
        <!-- <div class="bg-alto py-1 px-2 preview_title pointer-cursor text-right"><button class="btn btn-outline-primary" onClick="toggleSlideShowView();">View All</button></div> -->
        <div class="bg-alto py-1 px-2 preview_title pointer-cursor">
          <button id="btnViewAll" class="btn btn-outline-primary" onClick="toggleSlideShowView();" style="opacity: 0;">LIST</button>
          <button id="btnFindSlide" class="btn btn-outline-primary" onClick="viewSearchPanel();" style="opacity: 0;">FIND</button>
          <p id="sliderTitle" class="text-left slideshowTitle"></p>
          <p id="sliderDate" class="text-right slideshowTime"></p>
        </div>
        <div class="slideshow-slider"></div>


        <!--div class="slider_item"><div class="slider_item_wrapper" -->
          <div class="d-flex justify-content-between slideshow_bottom_Out">
            <div class="bottom_left_side">
              <div class="text-right"><div id="statGroup" class="metaGroupOut"><span id="playerStat"><img src="./images/earshot-games_player.png" width="35px"></span><span id="timeStat"><img src="./images/earshot-games_time.png"width="35px"></span><span id="ageStat"><img src="./images/earshot-games_age.png"  width="35px"></span>
                <span id="coopStat"><img src="./images/earshot-games_coop.png?version=1.4" width="35px"></span>
              </div></div> 
              <div id="_slide" class="ratingWrapper">
                <div id='star_slide_Out' class="ratingStar" style="height:100%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div> 
                </div>          
            </div>  
            <div class="barcode" style="position:relative; width:80px; height:80px">	
              <div class="qrcode" id="slide_barcode"></div>
            </div>      
          </div>
          <!--/div-->
          <!--/div-->
        



        <!--div style="position: absolute; bottom: 0em; width: 98%; height: 6.5em; left: 2%; background-color: #FFFFFF;"-->
          <!--div class="barcode" style="position:relative; width:80px; height:80px; margin-right:15px; max-width:auto;">	
            <div class="qrcode" id="slide_barcode"></div>
          </div-->
          <!--div class="d-flex justify-content-between slideshow_bottom">
            <div class="bottom_left_side">
              <div class="text-left"><div class="metaGroup"><span><img src="./images/earshot-games_player.png" width="35px"></span><span><img src="./images/earshot-games_time.png" width="35px"></span><span><img src="./images/earshot-games_age.png" width="35px"></span>
              </div></div> 
              <div id="_slide" class="ratingWrapper">
                <div id='star_slide' class="ratingStar" style="height:100%; width:100%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div> 
                </div>           
            </div>  
            <div class="barcode" style="position:relative; width:80px; height:80px">	
              <div class="qrcode" id="slide_barcode"></div>
            </div>      
          </div-->
        <!--/div-->
      </div>
      <div class="col-md-12 detail-view-section d-none" style="padding-top: 10px;">
        <div class="back-btn pointer-cursor px-4 rounded-0 py-2 mb-3 btn bg-alto text-uppercase text-primary font-DINCondensed position-sticky sticky-top" style="top: 10px;">Go Back</div>
        <div style="position: fixed;
        width: 100%;
        left: 0px;
        background-color: white;
        height: 101px;
        z-index: 99;
        top: -50px;"></div>
        <div class="game-details"></div>
      </div>
      <!-- <div class="text-center loader-spinner" style="margin: auto;">
        <img src="./css/Reload-1s-200px.gif" width="50" height="50" class="image_id text-center" alt="" />
      </div> -->
      <div id="spinningLoader" class="text-center loader-spinner-text" style="margin: auto; position: absolute; top:50%; left:0">
        <img src="zap_icons_game.png?version=1.4" width="70" height="70" class="image_id text-center" alt="" />
        <!-- <img src="./css/Reload-1s-200px.gif" width="40" height="40" class="image_id text-center" alt="" /> -->
        <p id="loadingTxt">Loading <br>Games</p>
        <button id="btnCont" style="background-color: #7553A2; color: white; border: 0; padding:0.3em 0.5em 0.3em 0.5em; display: none; border-radius: 5px;" onclick="onContinueClick();">CONTINUE</button>
      </div>
    </div>
  </div>

  <footer id="page-footer" class="game_footer mt-auto pb-4">
		<div class="container">
			<div class="copyright text-center text-light" style="position: relative; height: 1em;"><!-- © 2023 zsheets 2023 All Right Reserved --></div>
		</div>
	</footer>

  <div id="splashScreen" style="position: absolute; width:100%; top: 0; left:0; z-index: 1059;/* 99999999 */; display: flex; overflow: hidden; justify-content: space-around; background-color:#666666; align-items: center; height: 100%; opacity: 0;" onclick="HideSplashScreen();">
    <img id="splashImg" alt="" />
  </div>


  <div id="update-banner" data-state="noupdate" style="display: none;">
    <!-- <div class="content">
        <div class="headline">No Update available</div>
        <div class="subhead">Waiting for an update to become available</div>
    </div> -->
 </div>

<!----------------------------------------------------------------------------------------------------------->
  <!-- List / Slideshow View End -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="slick/slick.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
    integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>


    <script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>


  <script src="js-package/store.legacy.min.js"></script>
  <script src="js-package/jjlc.min.js"></script> -->
<!----------------------------------------------------------------------------------------------------------->

  <script>
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // For Refresh the page
    document.getElementById('versionId').innerHTML = 'Checking updates...'
    if ('serviceWorker' in navigator) {
      // Create a new ServiceWorkerUpdateListener
      var listener = new ServiceWorkerUpdateListener();
      const detectDeviceType = () =>
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
            ? 'Mobile'
            : 'Desktop';
      // Called whenever an update has been found and is installing
      //listener.onupdateinstalling = installingevent => console.log('Update is installing.');
      // Called whenever an update is done installing and is waiting
      var buttonElem = ''
      if(detectDeviceType() == 'Desktop') {
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /* buttonElem = `<p id='btnRefresh' style="position: absolute; right: 3em; top: .4em; font-weight: 700; border: 0; font-size: 1.5em; border-radius: 2px; padding:0.5em; color:#A7C1F6; cursor:pointer;">REFRESH</p>
        <p style="position: absolute; right: 1em; top: 1.2em; font-weight: 700; border: 0; font-size: 1.2em; border-radius: 2px; padding:0.5em">
          <img id='closeBox' src='images/close.png' alt="" style="filter: saturate(500%) contrast(800%) brightness(500%) 
          invert(100%) sepia(0%) hue-rotate(0deg); position: relative; width: 30px; top: -11px; left: 10px; cursor:pointer;" />
        </p>
        ` */
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        buttonElem = `<p id='btnRefresh' style="position: absolute; right: 1em; top: .2em; font-weight: 700; border: 0; font-size: 1.5em; border-radius: 2px; padding:0.5em; color:#A7C1F6; cursor:pointer; z-index:99999;">REFRESH</p>
          <p style="position: absolute; left: 0em; top: 1.2em; font-weight: 700; border: 0; font-size: 1.2em; border-radius: 2px; padding:0.5em">
            <img id='closeBox' src='images/close.png' alt="" style="filter: saturate(500%) contrast(800%) brightness(500%) 
            invert(100%) sepia(0%) hue-rotate(0deg); position: relative; width: 30px; top: -14px; left: 10px; cursor:pointer;" />
          </p>
          `
      } else {
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /* buttonElem = `<p id='btnRefresh' style="position: absolute; right: 2.5em; top: 0.9em; font-weight: 700; border: 0; font-size: 1.4em; border-radius: 2px; padding:0.5em; color:#A7C1F6; cursor:pointer;">REFRESH</p>
        <p style="position: absolute; right: 1em; top: 1.2em; font-weight: 700; border: 0; font-size: 1.2em; border-radius: 2px; padding:0.5em">
          <img id='closeBox' src='images/close.png' alt="" style="filter: saturate(500%) contrast(800%) brightness(500%) 
          invert(100%) sepia(0%) hue-rotate(0deg); position: relative; width: 30px; top: -3px; left: 10px; cursor:pointer;" />
        </p>` */
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        buttonElem = `<p id='btnRefresh' style="position: absolute; right: 0.5em; top: 0.8em; font-weight: 700; border: 0; font-size: 1.4em; border-radius: 2px; padding:0.5em; color:#A7C1F6; cursor:pointer; z-index:99999;">REFRESH</p>
          <p style="position: absolute; left: 0.5em; top: 0.9em; font-weight: 700; border: 0; font-size: 1.2em; border-radius: 2px; padding:0.5em">
            <img id='closeBox' src='images/close.png' alt="" style="filter: saturate(500%) contrast(800%) brightness(500%) 
            invert(100%) sepia(0%) hue-rotate(0deg); position: relative; width: 30px; /* top: -3px; left: 10px; */ cursor:pointer;" />
          </p>`
      }
      listener.onupdatewaiting = waitingevent => {
        var contentDiv = `<div class="content">
          ${buttonElem}
          <div class="headline"></div>
        </div>`
        document.getElementById('update-banner').innerHTML = contentDiv
        document.getElementById('update-banner').style.display = 'block'
        document.getElementById('update-banner').dataset.state = 'updateavailable';
        if(detectDeviceType() == 'Desktop') {
          document.querySelector('#update-banner .headline').innerHTML = 'A NEW VERSION OF GAME LIBRARY IS AVAILABLE';
        } else {
          document.querySelector('#update-banner .headline').innerHTML = 'A NEW VERSION OF GAME<br>LIBRARY IS AVAILABLE';
        }
        
        document.getElementById('btnRefresh').addEventListener('click', clickEvent => {
          document.getElementById('btnRefresh').style.display = 'none'
          document.getElementById('closeBox').style.display = 'none'
          listener.skipWaiting(waitingevent.detail.serviceWorker)
        });

        document.getElementById('closeBox').addEventListener('click', clickEvent => {
          document.getElementById('update-banner').style.display = 'none'
        });
      }
      // Called whenever an update is activated
      listener.onupdateready = event => {
        console.log('Update done. Restarted')
        document.querySelector('#update-banner .headline').innerHTML = 'INSTALLING UPDATE..';
        setTimeout(function() {
            document.getElementById('update-banner').style.display = 'none'
            window.location.reload();
        }, 1500)
      }
      // Register the service worker and add it to the listener
      navigator.serviceWorker.register('service-worker.js?version=1.3')
      .then(registration => {
        setTimeout(function () {
              //console.log('registration.waiting > ', registration.waiting)
              if(registration.waiting == null) {
                  document.getElementById('versionId').innerHTML = 'Version ' + Number(_version).toFixed(1)
              } else {
                document.getElementById('versionId').innerHTML = 'Version ' + Number(_version - .1).toFixed(1)
              }
            }, 1800)
        listener.addRegistration(registration)
        }
      )
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////

    function HideSplashScreen() {
      //document.getElementById('splashScreen').style.display = 'none'
      document.getElementById("splashScreen").style.opacity = 0;
      document.getElementById("splashScreen").style.transition = "all 0.5s";
      //document.getElementById('splashScreen').style.overflow = "hidden"

      const elementSplash = document.getElementById('splashScreen');
      elementSplash.addEventListener("transitionend", () => {
        //console.log("Hide transition end")
        document.getElementById('splashScreen').style.display = 'none'
        document.getElementById('splashScreen').style.opacity = 0
        document.getElementById('splashScreen').style.overflow = "hidden"
      });

      //clearTimeout(splashTime)
     
      //console.log(document.getElementById("splashScreen").style.opacity, "-----")
      setTimeout(function() {
      //console.log(idleStatus, " ---- in hide")
      if(document.getElementById("splashScreen").style.opacity == 1) {
        //console.log("---AB--")
        $('.slideshow-slider').slick('slickPause')
        slideStatus = "active"
        showMenuButtons()
      } else {
        if(idleStatus == true) {
          //console.log("---A--")
          $('.slideshow-slider').slick('slickPlay')
          slideStatus = "cycling"
          hideMenuButtons()
          clickedSlideID = -1
        } else {
          //console.log("---B--")
          $('.slideshow-slider').slick('slickPause')
          slideStatus = "active"
          showMenuButtons()
        }
      }
    }, 550)
    
      //$('.slideshow-slider').slick('slickPlay');
    }
    function ShowSplashScreen() {
      ///////////////////////////////////////////////////////////////////////////
      //console.log("ENTER SHOW")
      //document.getElementById("splashImg").src = splash_img
      //document.getElementById('splashScreen').style.display = 'flex'
      //document.getElementById('splashScreen').style.overflow = "hidden"
      //console.log(document.getElementById("splashScreen").style.opacity, " -")
      ///////////////////////////////////////////////////////////////////////////

      document.getElementById('splashScreen').style.display = 'flex'
      document.getElementById("splashScreen").style.opacity = 1;
      document.getElementById("splashScreen").style.transition = "all 0.5s";

      const elementSplash = document.getElementById('splashScreen');
      elementSplash.addEventListener("transitionend", () => {
        //console.log("Show transition end")
        document.getElementById('splashScreen').style.display = 'flex'
        document.getElementById('splashScreen').style.overflow = "hidden"
      });

      if(splashDelaySec > 0) {
        splashTime = setTimeout(HideSplashTime, (splashDelaySec * 1000))
      }
    }

    /////////////////////////////////////////////////////////////////////////////////////////////////
    // Hider loader
    //hideloader()
    /////////////////////////////////////////////////////////////////////////////////////////////////
    // checking Listener
    //addEventListener("resize", (event) => {renderPaginationHTML()});
    //////////////////////////////////////////////////////////////////////////////////////////////////
    /* function closeIt(event)
    {
      //localStorage.setItem("refreshStatus", "true")
      return "Any string value here forces a dialog box to \n" + 
            "appear before closing the window.";
      
    }
    window.onbeforeunload = closeIt; */
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Checking whether the page is loaded or reloaded/refresh
    /* if (window.performance) {
      if (performance.navigation.type == 1) {
        alert( "This page is reloaded" );
      } else {
        alert( "This page is not reloaded");
      }
    } */
    //////////////////////////////////////////////////////////////////////////////////////////////////
    /* document.getElementById('btnFindSlide').onmouseover = document.getElementById('btnFindList').onmouseover = function() {

      return

      // Check if filter applied
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
          if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary");
            document.getElementById("btnFindList").classList.add("btn-outline-primary-active");
          } else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary-active");
          }
        } else {
          if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary");
            document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
          } else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
          }
        }

        //console.log("ENTER HERE")
    }
    document.getElementById('btnFindSlide').onmouseout = document.getElementById('btnFindList').onmouseout = function() {
      // Check if filter applied

      return


      setTimeout(function() {
        console.log($('#myModal2').hasClass('show'), " MMMM");

        var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
        var cBoxTimeStat = document.getElementById("cBoxTime").checked
        var cBoxCoStat = document.getElementById("cBoxCo").checked
        var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
        var cBoxStoryStat = document.getElementById("cBoxStory").checked
        var cBoxPartyStat = document.getElementById("cBoxParty").checked
        // Letters checkbox
        var cBoxAStat = document.getElementById("cBoxA").checked
        var cBoxBStat = document.getElementById("cBoxB").checked
        var cBoxCStat = document.getElementById("cBoxC").checked
        var cBoxDStat = document.getElementById("cBoxD").checked
        var cBoxEStat = document.getElementById("cBoxE").checked
        var cBoxFStat = document.getElementById("cBoxF").checked
        var cBoxGStat = document.getElementById("cBoxG").checked
        var cBoxHStat = document.getElementById("cBoxH").checked
        var cBoxIStat = document.getElementById("cBoxI").checked
        var cBoxJStat = document.getElementById("cBoxJ").checked
        var cBoxKStat = document.getElementById("cBoxK").checked
        var cBoxLStat = document.getElementById("cBoxL").checked
        var cBoxMStat = document.getElementById("cBoxM").checked
        var cBoxNStat = document.getElementById("cBoxN").checked
        var cBoxOStat = document.getElementById("cBoxO").checked
        var cBoxPStat = document.getElementById("cBoxP").checked
        var cBoxQStat = document.getElementById("cBoxQ").checked
        var cBoxRStat = document.getElementById("cBoxR").checked
        var cBoxSStat = document.getElementById("cBoxS").checked
        var cBoxTStat = document.getElementById("cBoxT").checked
        var cBoxUStat = document.getElementById("cBoxU").checked
        var cBoxVStat = document.getElementById("cBoxV").checked
        var cBoxWStat = document.getElementById("cBoxW").checked
        var cBoxXStat = document.getElementById("cBoxX").checked
        var cBoxYStat = document.getElementById("cBoxY").checked
        var cBoxZStat = document.getElementById("cBoxZ").checked
        var cBox123Stat = document.getElementById("cBox123").checked

        if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
            if(MODE_TYPE == 'list') {
              document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
              document.getElementById("btnFindList").classList.add("btn-outline-primary");
            } else {
              document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
              document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
            }
          } else {
            if(MODE_TYPE == 'list') {
              document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
              document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
            } else {
              document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
              document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
            }
          }
        }, 1000)
          //console.log("ENTER HERE")
    } */
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Window event listener
    window.addEventListener('keydown', (event) => {
      if (event.key === 'Enter') {
        checkUserFillData()
      }
    });
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Reset Filter Item
    function ResetFilterItems() {

      // Check if filter applied
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
        
        // Remove All Filter and show the games
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindList").classList.add("btn-outline-primary");
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindSlide").classList.add("btn-outline-primary");

        //console.log(boardgames.length, " =IN RESET= ", BGGGamesListCount)

        if(boardgames.length == BGGGamesListCount) {
          CloseFilterBox()
        } else {
          filterGamesOnPlayerTime()
        }
      } else {
        // Player
        playerCount = 1
        document.getElementById("cBoxPlayer").checked = false
        document.getElementById("btnMinusPlayer").style.display = "none"
        document.getElementById("btnPlusPlayer").style.display = "none"
        document.getElementById('playerTotal').innerHTML = ""
        document.getElementById('playerTotal').style.color = "red"
        document.getElementById('playerTotal').style.zIndex = -9
        document.getElementById("playerIcon").style.display = "block"

        // Duration
        timeCount = 15
        document.getElementById("cBoxTime").checked = false
        document.getElementById("btnMinusTime").style.display = "none"
        document.getElementById("btnPlusTime").style.display = "none"
        document.getElementById('timeTotal').innerHTML = ""
        document.getElementById('timeTotal').style.color = "red"
        document.getElementById('timeTotal').style.zIndex = -9
        document.getElementById('timerIcon').style.display = "block"
        document.getElementById("minTxt").style.display = "none"

        // disable all items
        document.getElementById("cBoxCo").checked = false
        document.getElementById("cBoxStrategy").checked = false
        document.getElementById("cBoxStory").checked = false
        document.getElementById("cBoxParty").checked = false

        // Letters
        document.getElementById("cBoxA").checked = false
        document.getElementById("cBoxB").checked = false
        document.getElementById("cBoxC").checked = false
        document.getElementById("cBoxD").checked = false
        document.getElementById("cBoxE").checked = false
        document.getElementById("cBoxF").checked = false
        document.getElementById("cBoxG").checked = false
        document.getElementById("cBoxH").checked = false
        document.getElementById("cBoxI").checked = false
        document.getElementById("cBoxJ").checked = false
        document.getElementById("cBoxK").checked = false
        document.getElementById("cBoxL").checked = false
        document.getElementById("cBoxM").checked = false
        document.getElementById("cBoxN").checked = false
        document.getElementById("cBoxO").checked = false
        document.getElementById("cBoxP").checked = false
        document.getElementById("cBoxQ").checked = false
        document.getElementById("cBoxR").checked = false
        document.getElementById("cBoxS").checked = false
        document.getElementById("cBoxT").checked = false
        document.getElementById("cBoxU").checked = false
        document.getElementById("cBoxV").checked = false
        document.getElementById("cBoxW").checked = false
        document.getElementById("cBoxX").checked = false
        document.getElementById("cBoxY").checked = false
        document.getElementById("cBoxZ").checked = false
        document.getElementById("cBox123").checked = false
      }
      // New Change
      //filterGamesOnPlayerTime()
    }
     
    // Hide filter box
    function hideFilterBox() {
      ////////////////////////////////////////////
      //filterGamesOnPlayerTime()
      // Check if filter applied
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
        
        // Remove All Filter and show the games
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindList").classList.add("btn-outline-primary");
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
        //console.log(boardgames.length, " =IN RESET= ", BGGGamesListCount)
        if(boardgames.length == BGGGamesListCount) {
          CloseFilterBox()
        } else {
          filterGamesOnPlayerTime()
        }
      } else {
        filterGamesOnPlayerTime()
      }
      ////////////////////////////////////////////
      /* $('#myModal2').modal('hide');
      // Make the button active
      if(MODE_TYPE == "list") {
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindList").classList.add("btn-outline-primary");
      } else {
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
      } */
    }

    function CloseFilterBox() {
      $('#myModal2').modal('hide');
      // Make the button active
      /* if(MODE_TYPE == "list") {
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindList").classList.add("btn-outline-primary");
      } else {
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
      } */

      // Check if filter applied
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
          //if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindList").classList.add("btn-outline-primary");
          //} else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
          //}
        } else {
          //if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary");
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
          //} else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
          //}
        }
    }

    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Checkbox
    var inputs = document.getElementsByTagName('input');
    for (var i=0; i<inputs.length; i++)  {
      if (inputs[i].type == 'checkbox')   {
        inputs[i].checked = false;

        // For Player
        document.getElementById("btnMinusPlayer").style.display = "none"
        document.getElementById("btnPlusPlayer").style.display = "none"
        document.getElementById('playerTotal').innerHTML = ""
        document.getElementById('playerTotal').style.zIndex = -9
        document.getElementById('playerTotal').style.color = "red"

        // For Time
        document.getElementById("btnMinusTime").style.display = "none"
        document.getElementById("btnPlusTime").style.display = "none"
        document.getElementById('timeTotal').innerHTML = ""
        document.getElementById('timeTotal').style.color = "red"
        document.getElementById('timeTotal').style.zIndex = -9
        document.getElementById('timerIcon').style.display = "block"
        document.getElementById("minTxt").style.display = "none"

      }
    }
    function onPlayerCheckClick(event) {
      //console.log("PlayeCheckBoxClick - ", document.getElementById("cBoxPlayer").checked)
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      if(cBoxPlayerStat == true) {

        document.getElementById("btnMinusPlayer").style.display = "block"
        document.getElementById("btnPlusPlayer").style.display = "block"
        document.getElementById('playerTotal').innerHTML = playerCount
        document.getElementById('playerTotal').style.color = "#845F41"
        document.getElementById('playerTotal').style.zIndex = 9
        
        document.getElementById("playerIcon").style.display = "none"
      } else {
        document.getElementById("btnMinusPlayer").style.display = "none"
        document.getElementById("btnPlusPlayer").style.display = "none"
        document.getElementById('playerTotal').innerHTML = ""
        document.getElementById('playerTotal').style.color = "red"
        document.getElementById('playerTotal').style.zIndex = -9


        document.getElementById("playerIcon").style.display = "block"
      }
      //filterGamesOnPlayerTime()
    }
    function onTimeCheckClick(event) {
      //console.log("PlayeCheckBoxClick - ", document.getElementById("cBoxPlayer").checked)
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      if(cBoxTimeStat == true) {
        document.getElementById("btnMinusTime").style.display = "block"
        document.getElementById("btnPlusTime").style.display = "block"
        document.getElementById('timeTotal').innerHTML = timeCount
        document.getElementById('timeTotal').style.color = "#845F41"
        document.getElementById('timeTotal').style.zIndex = 9

        document.getElementById('timerIcon').style.display = "none"
        document.getElementById("minTxt").style.display = "block"
      } else {
        document.getElementById("btnMinusTime").style.display = "none"
        document.getElementById("btnPlusTime").style.display = "none"
        document.getElementById('timeTotal').innerHTML = ""
        document.getElementById('timeTotal').style.color = "red"
        document.getElementById('timeTotal').style.zIndex = -9
        document.getElementById('timerIcon').style.display = "block"
        document.getElementById("minTxt").style.display = "none"
      }
      //filterGamesOnPlayerTime()
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function disableAllSelectedLetterFilters() {
      // Letters
      document.getElementById("cBoxA").checked = false
      document.getElementById("cBoxB").checked = false
      document.getElementById("cBoxC").checked = false
      document.getElementById("cBoxD").checked = false
      document.getElementById("cBoxE").checked = false
      document.getElementById("cBoxF").checked = false
      document.getElementById("cBoxG").checked = false
      document.getElementById("cBoxH").checked = false
      document.getElementById("cBoxI").checked = false
      document.getElementById("cBoxJ").checked = false
      document.getElementById("cBoxK").checked = false
      document.getElementById("cBoxL").checked = false
      document.getElementById("cBoxM").checked = false
      document.getElementById("cBoxN").checked = false
      document.getElementById("cBoxO").checked = false
      document.getElementById("cBoxP").checked = false
      document.getElementById("cBoxQ").checked = false
      document.getElementById("cBoxR").checked = false
      document.getElementById("cBoxS").checked = false
      document.getElementById("cBoxT").checked = false
      document.getElementById("cBoxU").checked = false
      document.getElementById("cBoxV").checked = false
      document.getElementById("cBoxW").checked = false
      document.getElementById("cBoxX").checked = false
      document.getElementById("cBoxY").checked = false
      document.getElementById("cBoxZ").checked = false
      document.getElementById("cBox123").checked = false
    }
    function DisableFilterCheckBox() {
      // Disable All
      document.getElementById("cBoxA").disabled = true
      document.getElementById("cBoxB").disabled = true
      document.getElementById("cBoxC").disabled = true
      document.getElementById("cBoxD").disabled = true
      document.getElementById("cBoxE").disabled = true
      document.getElementById("cBoxF").disabled = true
      document.getElementById("cBoxG").disabled = true
      document.getElementById("cBoxH").disabled = true
      document.getElementById("cBoxI").disabled = true
      document.getElementById("cBoxJ").disabled = true
      document.getElementById("cBoxK").disabled = true
      document.getElementById("cBoxL").disabled = true
      document.getElementById("cBoxM").disabled = true
      document.getElementById("cBoxN").disabled = true
      document.getElementById("cBoxO").disabled = true
      document.getElementById("cBoxP").disabled = true
      document.getElementById("cBoxQ").disabled = true
      document.getElementById("cBoxR").disabled = true
      document.getElementById("cBoxS").disabled = true
      document.getElementById("cBoxT").disabled = true
      document.getElementById("cBoxU").disabled = true
      document.getElementById("cBoxV").disabled = true
      document.getElementById("cBoxW").disabled = true
      document.getElementById("cBoxX").disabled = true
      document.getElementById("cBoxY").disabled = true
      document.getElementById("cBoxZ").disabled = true
      document.getElementById("cBox123").disabled = true
    }
    function EnableFilterCheckBox() {
      // Disable All
      document.getElementById("cBoxA").disabled = false
      document.getElementById("cBoxB").disabled = false
      document.getElementById("cBoxC").disabled = false
      document.getElementById("cBoxD").disabled = false
      document.getElementById("cBoxE").disabled = false
      document.getElementById("cBoxF").disabled = false
      document.getElementById("cBoxG").disabled = false
      document.getElementById("cBoxH").disabled = false
      document.getElementById("cBoxI").disabled = false
      document.getElementById("cBoxJ").disabled = false
      document.getElementById("cBoxK").disabled = false
      document.getElementById("cBoxL").disabled = false
      document.getElementById("cBoxM").disabled = false
      document.getElementById("cBoxN").disabled = false
      document.getElementById("cBoxO").disabled = false
      document.getElementById("cBoxP").disabled = false
      document.getElementById("cBoxQ").disabled = false
      document.getElementById("cBoxR").disabled = false
      document.getElementById("cBoxS").disabled = false
      document.getElementById("cBoxT").disabled = false
      document.getElementById("cBoxU").disabled = false
      document.getElementById("cBoxV").disabled = false
      document.getElementById("cBoxW").disabled = false
      document.getElementById("cBoxX").disabled = false
      document.getElementById("cBoxY").disabled = false
      document.getElementById("cBoxZ").disabled = false
      document.getElementById("cBox123").disabled = false
    }

    function onLetterClick (_letter) {
      disableAllSelectedLetterFilters();
      DisableFilterCheckBox()
      // To enable selected letter
      var _selLetterCBox = 'cBox' + _letter
      if(document.getElementById(_selLetterCBox).checked) {
        document.getElementById(_selLetterCBox).checked = false
      } else {
        document.getElementById(_selLetterCBox).checked = true
      }

      setTimeout(function() {
        filterGamesOnPlayerTime()
      }, 100)

    }
    // Mechanics Filter functions
    function onCoCheckClick(event) {
      //filterGamesOnPlayerTime()
    }
    function onStrategyCheckClick(event) {
      //filterGamesOnPlayerTime()
    }
    function onStoryCheckClick(event) {
      //filterGamesOnPlayerTime()
    }
    function onPartyCheckClick(event) {
      //filterGamesOnPlayerTime()
    }
    /* function onAcCheckClick() {
      filterGamesOnPlayerTime()
    }
    function onWpCheckClick(event) {
      filterGamesOnPlayerTime()
    }
    function onRbCheckClick(event) {
      filterGamesOnPlayerTime()
    }
    function onDbCheckClick(event) {
      filterGamesOnPlayerTime()
    }
    function onStCheckClick(event) {
      filterGamesOnPlayerTime()
    }
    function onDedCheckClick(event) {
      filterGamesOnPlayerTime()
    } */
    //////////////////////////////////////////////////////////////////////////////////////////////////
    //localStorage.setItem("refreshStatus", "null")
    // Global Variables
    var allBoardGames = [];
    var boardgames;
    var boardgameBasicData;
    var paged = 0;
    var sourceType = '';
    var MODE_TYPE = 'list';
    var RATING_MODE = "star"
    var loadType = ""

    var settingLoaded = false
    var privateLoaded = false
    var gameLoaded = false

    var deviceType = ""

    var clickedSlideID = -1

    var slides_loaded = false

    /* var toggleRatingClick = false */

    //var filterBoardGames = []

    // Game Slideshow Assets
    var QRCodeList = []
    var GameRating = []

    var BGGGamesListCount =  -1

    let gameMsg = ""

    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Checking whether the page is loaded or reloaded/refresh
    if (window.performance) {
      if (performance.navigation.type == 1) {
        //alert( "This page is reloaded" );
        loadType = "refresh"
      } else {
        //alert( "This page is not reloaded");
        loadType = "normal"
      }
    }
    
    //console.log(loadType, " LoadType")
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Slick Slide
    //var $slider = $('.slideshow-slider');
    var currentSlide = 0
    var previousSlide = 0
    var slideStatus = "stop"
    var timerCount = 0
    function checkSlickStatus() {
      const slickStatusTimer = setTimeout(function() {
        clearTimeout(slickStatusTimer)
        //slideStatus = "stop"
        
        if(timerCount == 2) {
            slideStatus = "active"
            timerCount = 0
        }
        //console.log(slideStatus, " Status ", timerCount, " search - ", $("#myModal2").is(":visible"))
        /* if($("#myModal2").is(":visible")) {
          $('.slideshow-slider').slick('slickPause');
        } else {
          $('.slideshow-slider').slick('slickPlay');
        }

        if(slideStatus == "cycling") {
          hideMenuButtons()
        } else {
          showMenuButtons()
        } */
        
        timerCount++
        checkSlickStatus()
      }, 7000)
    }
    ////////////////////////////////////////////////////////////////////////////////
    function showMenuButtons() {
      document.getElementById("btnFindSlide").style.opacity = 1;
      document.getElementById("btnViewAll").style.opacity = 1;
      document.getElementById("btnFindSlide").style.transition = "all 0.5s";
      document.getElementById("btnViewAll").style.transition = "all 0.5s";

      document.getElementById("btnFindSlide").disabled = false;
      document.getElementById("btnViewAll").disabled = false;

      // Hide slider Title
      document.getElementById("sliderTitle").style.opacity = 0;
      document.getElementById("sliderTitle").style.transition = "all 0.2s";
      document.getElementById("sliderTitle").style.display = 'none';
      

      // Pause the slideshow
      if($('.slideshow-slider') != undefined) {
        $('.slideshow-slider').slick('slickPause');
      
        $('.slick-next').show();
        $('.slick-prev').show();
      }
      viewSearchPanel()
    }

    function hideMenuButtons() {
      document.getElementById("btnFindSlide").style.opacity = 0;
      document.getElementById("btnViewAll").style.opacity = 0;
      document.getElementById("btnFindSlide").style.transition = "all 0.5s";
      document.getElementById("btnViewAll").style.transition = "all 0.5s";

      document.getElementById("btnFindSlide").disabled = true;
      document.getElementById("btnViewAll").disabled = true;

      // Show slider Title
      document.getElementById("sliderTitle").style.display = 'block';
      document.getElementById("sliderTitle").style.opacity = 1;
      document.getElementById("sliderTitle").style.transition = "all 0.2s";

      // Pause the slideshow
      if($('.slideshow-slider') != undefined) {
        $('.slideshow-slider').slick('slickPlay');
    

        $('.slick-next').hide();
        $('.slick-prev').hide();
      }
      
    }
    ////////////////////////////////////////////////////////////////////////////////

    
    function updateSliderCounter(slick) {
      currentSlide = slick.slickCurrentSlide() + 1
      if(previousSlide != currentSlide) {
        previousSlide = currentSlide
      }
      timerCount = 0
      slideStatus = "cycling"
      //console.log(currentSlide, " >>> currentSlide ", slick.autoplay)

      // Hide menu buttons
      hideMenuButtons()
    }
    
    //$slider.on('afterChange', function(event, slick, currentSlide) {
      //updateSliderCounter(slick);
    //});
    
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function updateSlideshowTimer() {
      const sliderTimerEvent = setTimeout(function() {
        clearTimeout(sliderTimerEvent)
        var nDate = moment(new Date()).format("hh:mm A")
        document.getElementById('sliderDate').innerHTML = nDate;
      }, 1000)
      updateSlideshowTimer()
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // IDLE TIMEOUT
    //let idleTimeOut = 6 // Idle threshold 1 MINS
    //var idleState = false;
	  //var idleTimer = null;

    // For Filter variables
    var playerCount = 1
    var timeCount = 15
    //$('*').bind('mousemove click mouseup mousedown keydown keypress keyup submit change mouseenter scroll resize dblclick', function () {
        //clearTimeout(idleTimer);
        ////////////////////////////////////////////////////////////////////
        //if (idleState == true) { 
          // console.log("Active");
          // toggleSlideShowView();
       // }
        ////////////////////////////////////////////////////////////////////
        //idleState = false;
        //idleTimer = setTimeout(function () { 
          // console.log("In-Active");
          /* if(typeof boardgames == 'undefined' || boardgames == ''){
            return false;
          } */
          ////////////////////////////////////////////////////////////////////
          //if(MODE_TYPE == 'list') {
        //    //viewSlideShowHTML();
         // } else {
         //   console.log(idleState, " ---- ")
         // }
          //console.log(idleState, " ---- ")
          ////////////////////////////////////////////////////////////////////
        // idleState = true; 
        //}, idleTimeOut * 1000);
    //});

    //////////////////////////////////////////////////////////////////////////
    // Splash time
    let splashTime;
    function HideSplashTime() {
      clearTimeout(splashTime)
      //console.log("Hide Splash Screen")
      if(MODE_TYPE == 'list') {
        idleFrom = 'list'
      } else {
        idleFrom = ''
      }
      HideSplashScreen()
    }
    
    //////////////////////////////////////////////////////////////////////////

    // IDLE TIMEOUT
    let idleFrom = ''
    let idleTime;
    let idleTimeOut = 60 // Idle threshold 3 MINS
    let idleStatus = false
    //window.addEventListener('load', resetIdleTimer, true);

    
    // Event to check for
    let events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];
    events.forEach(function (name) {
      document.addEventListener(name, resetIdleTimer, true);
    });

    function idleOut() {
      //console.log(idleTimeOut, " --- ", $('.slideshow-slider'))
      if(idleTimeOut == "" || game_action == 'sync') {return}
      idleStatus = true
      //console.log("in idle 1 - ", idleStatus)
      
      //console.log(idleTimeOut, " >>>> in idle ", MODE_TYPE)
      
      clearTimeout(idleTime);
      ////////////////////////////////////////////
      if(MODE_TYPE == "slideshow" || MODE_TYPE == 'list') {
        if(MODE_TYPE == 'list') {
          idleFrom = 'list'
        } else {
          idleFrom = ''
        }

        ///////////////////////////////////////////////////////////////////////////
        // Show splash screen
        
        if(splashDelaySec >= 0) {
          //console.log(slideStatus, " in idle")
          if(slideStatus != 'cycling') {
            //$('.slideshow-slider').slick('slickPause')
            //console.log(splashDelaySec, " --- ", slideStatus)
            if(splash_img != '') {
              ShowSplashScreen()
            }
          } else {
           $('.slideshow-slider').slick('slickPlay')
            slideStatus = "cycling"
            hideMenuButtons()
            clickedSlideID = -1
          }
        }
        ///////////////////////////////////////////////////////////////////////////


        //$('.slideshow-slider').slick('slickPause')
        /* $('.slideshow-slider').slick('slickPlay')
        slideStatus = "cycling" */

        /* hideMenuButtons()
        clickedSlideID = -1 */

        /////////////////////////////////////////////
        // Hide Filter Box
        //hideFilterBox();
        //CloseFilterBox()
        ////////////////////////////////////////////
        // Check if filter applied
        var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
        var cBoxTimeStat = document.getElementById("cBoxTime").checked
        var cBoxCoStat = document.getElementById("cBoxCo").checked
        var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
        var cBoxStoryStat = document.getElementById("cBoxStory").checked
        var cBoxPartyStat = document.getElementById("cBoxParty").checked
        // Letters checkbox
        var cBoxAStat = document.getElementById("cBoxA").checked
        var cBoxBStat = document.getElementById("cBoxB").checked
        var cBoxCStat = document.getElementById("cBoxC").checked
        var cBoxDStat = document.getElementById("cBoxD").checked
        var cBoxEStat = document.getElementById("cBoxE").checked
        var cBoxFStat = document.getElementById("cBoxF").checked
        var cBoxGStat = document.getElementById("cBoxG").checked
        var cBoxHStat = document.getElementById("cBoxH").checked
        var cBoxIStat = document.getElementById("cBoxI").checked
        var cBoxJStat = document.getElementById("cBoxJ").checked
        var cBoxKStat = document.getElementById("cBoxK").checked
        var cBoxLStat = document.getElementById("cBoxL").checked
        var cBoxMStat = document.getElementById("cBoxM").checked
        var cBoxNStat = document.getElementById("cBoxN").checked
        var cBoxOStat = document.getElementById("cBoxO").checked
        var cBoxPStat = document.getElementById("cBoxP").checked
        var cBoxQStat = document.getElementById("cBoxQ").checked
        var cBoxRStat = document.getElementById("cBoxR").checked
        var cBoxSStat = document.getElementById("cBoxS").checked
        var cBoxTStat = document.getElementById("cBoxT").checked
        var cBoxUStat = document.getElementById("cBoxU").checked
        var cBoxVStat = document.getElementById("cBoxV").checked
        var cBoxWStat = document.getElementById("cBoxW").checked
        var cBoxXStat = document.getElementById("cBoxX").checked
        var cBoxYStat = document.getElementById("cBoxY").checked
        var cBoxZStat = document.getElementById("cBoxZ").checked
        var cBox123Stat = document.getElementById("cBox123").checked

        if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
          // Remove All Filter and show the games
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindList").classList.add("btn-outline-primary");
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
          //console.log(boardgames.length, " =IN RESET= ", BGGGamesListCount)
          if(boardgames.length == BGGGamesListCount) {
            CloseFilterBox()
          } else {
            filterGamesOnPlayerTime()
          }
        } else {
          // Player
          playerCount = 1
          document.getElementById("cBoxPlayer").checked = false
          document.getElementById("btnMinusPlayer").style.display = "none"
          document.getElementById("btnPlusPlayer").style.display = "none"
          document.getElementById('playerTotal').innerHTML = ""
          document.getElementById('playerTotal').style.color = "red"
          document.getElementById('playerTotal').style.zIndex = -9
          document.getElementById("playerIcon").style.display = "block"

          // Duration
          timeCount = 15
          document.getElementById("cBoxTime").checked = false
          document.getElementById("btnMinusTime").style.display = "none"
          document.getElementById("btnPlusTime").style.display = "none"
          document.getElementById('timeTotal').innerHTML = ""
          document.getElementById('timeTotal').style.color = "red"
          document.getElementById('timeTotal').style.zIndex = -9
          document.getElementById('timerIcon').style.display = "block"
          document.getElementById("minTxt").style.display = "none"

          // disable all items
          document.getElementById("cBoxCo").checked = false
          document.getElementById("cBoxStrategy").checked = false
          document.getElementById("cBoxStory").checked = false
          document.getElementById("cBoxParty").checked = false

          // Letters
          document.getElementById("cBoxA").checked = false
          document.getElementById("cBoxB").checked = false
          document.getElementById("cBoxC").checked = false
          document.getElementById("cBoxD").checked = false
          document.getElementById("cBoxE").checked = false
          document.getElementById("cBoxF").checked = false
          document.getElementById("cBoxG").checked = false
          document.getElementById("cBoxH").checked = false
          document.getElementById("cBoxI").checked = false
          document.getElementById("cBoxJ").checked = false
          document.getElementById("cBoxK").checked = false
          document.getElementById("cBoxL").checked = false
          document.getElementById("cBoxM").checked = false
          document.getElementById("cBoxN").checked = false
          document.getElementById("cBoxO").checked = false
          document.getElementById("cBoxP").checked = false
          document.getElementById("cBoxQ").checked = false
          document.getElementById("cBoxR").checked = false
          document.getElementById("cBoxS").checked = false
          document.getElementById("cBoxT").checked = false
          document.getElementById("cBoxU").checked = false
          document.getElementById("cBoxV").checked = false
          document.getElementById("cBoxW").checked = false
          document.getElementById("cBoxX").checked = false
          document.getElementById("cBoxY").checked = false
          document.getElementById("cBoxZ").checked = false
          document.getElementById("cBox123").checked = false

          filterGamesOnPlayerTime();
        }
          ////////////////////////////////////////////

          if(MODE_TYPE == 'list') {
            MODE_TYPE = 'slideshow'
            viewSlideShowHTML()
          }
      }
      idleTime = setTimeout(idleOut, (idleTimeOut * 1000))
    }

    function resetIdleTimer() {
      if(idleStatus == true || idleStatus == undefined) {
        idleStatus = false
        //console.log("in idle 2 - ", idleStatus)
        ////////////////////////////////////////////////
        if(MODE_TYPE == "slideshow") {
          $('.slideshow-slider').slick('slickPause')
          slideStatus = "active"
          showMenuButtons()
          HideSplashScreen()
        }
        ////////////////////////////////////////////////
      }
      //console.log(idleTimeOut, " >>>>")
      clearTimeout(idleTime);
      idleTime = setTimeout(idleOut, (idleTimeOut * 1000))
    }


    /* var slashes = window.location.href.split('/')
    console.log(slashes[slashes.length-1], " ASASASASAS") */

    //////////////////////////////////////////////////////////////////////////////////////////////////
    function getUrlVars() {
      var vars = [], hash;
      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
      for (var i = 0; i < hashes.length; i++) {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
      }
      return vars;
    }

    //////////////////////////////////////////////////////////////////////////////////////////////////
    // TO LOAD PRIVATE DATA IN THE BEGINNING
    let privateDataList = []
    let sheet_Name = ''
    let user_name = ''
    let splash_img = ''
    let splashDelaySec = 0

    //console.log(store.get('earshot_bgg_game'), " boardgame data")
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // iOS FIX
    function checkCookieStatus(){
      var cookieEnabled = navigator.cookieEnabled;
      return cookieEnabled;
    }
    
     //////////////////////////////////////////////////////////////////////////////////////////////////

    function getGamesPrivateData() {

      // showing message
      //document.getElementById("loadingTxt").innerHTML = "Loading... <br> Games private data"

      // iOS Fix
      var cookiesStat = checkCookieStatus();

      if(cookiesStat) {
        // showing message
        document.getElementById("loadingTxt").innerHTML = "Loading <br>Sheets"
        //if(loadType == "normal" && localStorage.getItem("earshot_privateData") != null) {
        if(loadType == "normal" && JJLC.getItem("earshot_privateData") != null) {

        /* if(loadType == "normal" && store.get('earshot_privateData') != "undefined") { */
        /* if(loadType == "normal" && store.get('earshot_bggData') != "undefined") { */

          //console.log("Loading from localstorage - privateDataList")
          // Reassign the stored value
        
          // New Change
          //privateDataList = JSON.parse(localStorage.getItem("earshot_privateData"))
          privateDataList = JSON.parse(JJLC.getItem("earshot_privateData"))

        /* privateDataList = JSON.parse(store.get('earshot_privateData').data) */
        /*  privateDataList = JSON.parse(store.get('earshot_bggData').bgg_privateData) */
        
        // Check for username passed from querystring else set the username from sheet data
        privateLoaded = true
        checkUserQueryString()

        } else /* if(loadType == "refresh")  */{
          //console.log("Loading from server - privateDataList ", sheet_Name, " --- ", sheet_Id)
          $.ajax({ 
            //url: apiurl, 
            url: 'private_data.php', 
            type:'POST', 
            data:{'sheetId' : sheet_Id, 'sheet' : sheet_Name}, 
            cache: false, 
            success: function (response) {
              //console.log(response)
              /* var mResponseSC = response.replace(/�/g, "") 
              var mResponseDQ = mResponseSC.replace(/"/g, "dqo") 
              var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
              var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',")  */

              var mResponseSC = response.replace(/�/g, "")
              var mResponseSCS = mResponseSC.replace(/: "/g, ": '") 
              var mResponseSCSE = mResponseSCS.replace(/",/g, "',") 
              var mResponseDQ = mResponseSCSE.replace(/"/g, "dqo") 
              var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
              var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 

              const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
              let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
              let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'"); 

              privateDataList = JSON.parse(replaceResponse)

              // New Change
              // Storing to local storage
              //localStorage.setItem("earshot_privateData", JSON.stringify(privateDataList)) 
              JJLC.setItem("earshot_privateData", JSON.stringify(privateDataList)) 


              /* store.set("earshot_privateData", { data:JSON.stringify(privateDataList)}) */
              /* store.set("earshot_bggData", { bgg_privateData:JSON.stringify(privateDataList)}) */
              
              //console.log(privateDataList, " DATA")
              // Check for username passed from querystring else set the username from sheet data
              privateLoaded = true
              checkUserQueryString()
            }
          })
        }
      } else {
        /* console.log("SHOW COOKIES MESSAGE AND BUTTON TO CONTINUE")
        // showing message
        document.getElementById("loadingTxt").innerHTML = "Cookies... <br> Browser cookies disabled. Enable it for best experience."
        document.getElementById("btnCont").style.display = 'inline-block' */

        //console.log(sheet_Id, " ---- ", sheet_Name)

        $.ajax({ 
          //url: apiurl, 
          url: 'private_data.php', 
          type:'POST', 
          data:{'sheetId' : sheet_Id, 'sheet' : sheet_Name}, 
          cache: false, 
          success: function (response) {
            //console.log(response)
            /* var mResponseSC = response.replace(/�/g, "") 
            var mResponseDQ = mResponseSC.replace(/"/g, "dqo") 
            var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
            var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',")  */

            var mResponseSC = response.replace(/�/g, "")
            var mResponseSCS = mResponseSC.replace(/: "/g, ": '") 
            var mResponseSCSE = mResponseSCS.replace(/",/g, "',") 
            var mResponseDQ = mResponseSCSE.replace(/"/g, "dqo") 
            var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
            var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 

            const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
            let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
            let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'"); 

            //console.log(response, " data")
            //return
            privateDataList = JSON.parse(replaceResponse)

            // New Change
            // Storing to local storage
            //localStorage.setItem("earshot_privateData", JSON.stringify(privateDataList)) 
            //JJLC.setItem("earshot_privateData", JSON.stringify(privateDataList)) 


            /* store.set("earshot_privateData", { data:JSON.stringify(privateDataList)}) */
            /* store.set("earshot_bggData", { bgg_privateData:JSON.stringify(privateDataList)}) */
            
            //console.log(privateDataList, " DATA")
            // Check for username passed from querystring else set the username from sheet data
            privateLoaded = true
            checkUserQueryString()
          }
        })

      }
    }

    function onContinueClick() {
      //console.log("on continue click")
      document.getElementById("btnCont").style.display = 'none'
      document.getElementById("loadingTxt").innerHTML = "Loading <br>Settings"

      const detectDeviceType = () =>
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        ? 'Mobile'
        : 'Desktop';

        if(detectDeviceType() == 'Desktop') {
          document.getElementById('spinningLoader').style.top = '45vh'
        } else {
          document.getElementById('spinningLoader').style.top = '45vh'
        }


      // Loading setting data
      $.ajax({ 
        //url: apiurl, 
        url: 'private_data.php', 
        type:'POST', 
        data:{'sheetId' : sheet_Id, 'sheet' : 'Settings'}, 
        cache: false, 
        success: function (response) {
          //console.log(response, " --- " )
          if(response == "") {
            checkUserQueryString()
            return
          }
          /* var mResponseSC = response.replace(/�/g, "") 
          var mResponseDQ = mResponseSC.replace(/"/g, "dqo") 
          var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
          var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',")  */

          var mResponseSC = response.replace(/�/g, "")
          var mResponseSCS = mResponseSC.replace(/: "/g, ": '") 
          var mResponseSCSE = mResponseSCS.replace(/",/g, "',") 
          var mResponseDQ = mResponseSCSE.replace(/"/g, "dqo") 
          var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
          var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 

          const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
          let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
          let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'"); 
          settingDataList = JSON.parse(replaceResponse)  
          //console.log(settingDataList, " Setting DATA")

          // New Change
          // Storing to local storage
          //localStorage.setItem("earshot_settingData", JSON.stringify(settingDataList)) 
          //JJLC.setItem("earshot_settingData", JSON.stringify(settingDataList)) 

          /* store.set("earshot_settingData", { data:JSON.stringify(settingDataList)}) */
        /*  store.set("earshot_bggData", { bgg_settingData:JSON.stringify(settingDataList)}) */

        settingLoaded = true

        /////////////////////////////////////////////////////////////////////////////////////////
        /* $.each(settingDataList, function (index, row) {
          if(row["Profile"] == "BGG") {
            sheet_Name = row["Sheet"]
            user_name = row["User"]
            // Load list at start
            getGamesPrivateData()
          }
        }) */
        //var splash_img = ''
        $.each(settingDataList, function (index, row) {
          if(row["Name"] == "BGG") {
            user_name = row["Value"]
          }
          if(row["Name"] == "SplashImageUrl") {
            splash_img = row["Value"]
          }
          if(row["Name"] == "SplashImageDelaySec") {
            splashDelaySec = row["Value"]
          }

          if(row["Name"] == "TimeoutSec") {
            idleTimeOut = row["Value"]
            if(idleTimeOut == '') {
              idleTimeOut = 60
            }
          }

          if(row["Name"] == "Sheet") {
            sheet_Name = row["Value"]
            // Load list at start
            getGamesPrivateData()
          }

        })
        /////////////////////////////////////////////////////////////////////////////////////////
        // Set splash image from sheet
        //console.log(splash_img, " --- ", document.getElementById('splashScreen'))
        //window.addEventListener('load', resetIdleTimer, true);
        resetIdleTimer()
        document.getElementById("splashImg").src = splash_img
        /////////////////////////////////////////////////////////////////////////////////////////
        }
      })
      
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    // Load Setting
    let settingDataList = []
    function getGamesSettingData() {

      var cookieStat = checkCookieStatus();

      if(cookieStat) {
        // showing message
        document.getElementById("loadingTxt").innerHTML = "Loading <br>Settings"
        //if(loadType == "normal" && localStorage.getItem("earshot_settingData") != null) {
        if(loadType == "normal" && JJLC.getItem("earshot_settingData") != null) {
        
          /* if(loadType == "normal" && store.get('earshot_settingData') != "undefined") { */
          
        /* if(loadType == "normal" && store.get('earshot_bggData').bgg_settingData != "undefined") { */

          //console.log("Loading from localstorage - settingDataList")
          
          // New Change
          // Reassign the stored value
          //settingDataList = JSON.parse(localStorage.getItem("earshot_settingData"))
          settingDataList = JSON.parse(JJLC.getItem("earshot_settingData"))

          /* settingDataList = JSON.parse(store.get('earshot_settingData').data) */
          /* settingDataList = JSON.parse(store.get('earshot_bggData').bgg_settingData) */

          settingLoaded = true

          ////////////////////////////////////////////////////////////////////
          // Getting game private data based on the filter
          /* $.each(settingDataList, function (index, row) {
            if(row["Profile"] == "BGG") {
              sheet_Name = row["Sheet"]
              user_name = row["User"]
              // Load list at start
              getGamesPrivateData()
            }
          }) */
          //var splash_img = ''
          $.each(settingDataList, function (index, row) {
          if(row["Name"] == "BGG") {
            user_name = row["Value"]
          }
          if(row["Name"] == "SplashImageUrl") {
            splash_img = row["Value"]
          }
          if(row["Name"] == "SplashImageDelaySec") {
            splashDelaySec = row["Value"]
          }
          if(row["Name"] == "TimeoutSec") {
            idleTimeOut = row["Value"]
            if(idleTimeOut == '') {
              idleTimeOut = 60
            }
          }
          if(row["Name"] == "Sheet") {
            sheet_Name = row["Value"]
            // Load list at start
            getGamesPrivateData()
          }
        })
        /////////////////////////////////////////////////////////////////////////////////////////
         // Set splash image from sheet
         //window.addEventListener('load', resetIdleTimer, true);
         resetIdleTimer()
         document.getElementById("splashImg").src = splash_img
        ///////////////////////////////////////////////////////////////////////////
        } else /* if(loadType == "refresh") */ {
          //console.log("Loading from server - settingDataList")
          $.ajax({ 
            //url: apiurl, 
            url: 'private_data.php', 
            type:'POST', 
            data:{'sheetId' : sheet_Id, 'sheet' : 'Settings'}, 
            cache: false, 
            success: function (response) {
              //console.log(response, " --- " )
              if(response == "") {
                checkUserQueryString()
                return
              }
              /* var mResponseSC = response.replace(/�/g, "") 
              var mResponseDQ = mResponseSC.replace(/: "/g, ":dqo") 
              var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": dqo") 
              var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',")  */

              var mResponseSC = response.replace(/�/g, "")
              var mResponseSCS = mResponseSC.replace(/: "/g, ": '") 
              var mResponseSCSE = mResponseSCS.replace(/",/g, "',") 
              var mResponseDQ = mResponseSCSE.replace(/"/g, "dqo") 
              var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
              var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 

              const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
              let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
              let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'");
             
              
              //console.log(replaceResponseRegX)

              settingDataList = JSON.parse(replaceResponse)  
              //console.log(settingDataList, " Setting DATA")

              // New Change
              // Storing to local storage
              //localStorage.setItem("earshot_settingData", JSON.stringify(settingDataList)) 
              JJLC.setItem("earshot_settingData", JSON.stringify(settingDataList)) 

              /* store.set("earshot_settingData", { data:JSON.stringify(settingDataList)}) */
            /*  store.set("earshot_bggData", { bgg_settingData:JSON.stringify(settingDataList)}) */

            settingLoaded = true
            //console.log(settingDataList, " List")
            //////////////////////////////////////////////////////////////////////////
              /* $.each(settingDataList, function (index, row) {
                if(row["Profile"] == "BGG") {
                  sheet_Name = row["Sheet"]
                  user_name = row["User"]
                  // Load list at start
                  getGamesPrivateData()
                }
              }) */
              //var splash_img = ''
              //console.log(settingDataList, " DDD")
              $.each(settingDataList, function (index, row) {
                if(row["Name"] == "BGG") {
                  user_name = row["Value"]
                  //console.log(user_name, " user name")
                }
                if(row["Name"] == "SplashImageUrl") {
                  splash_img = row["Value"]
                }
                if(row["Name"] == "SplashImageDelaySec") {
                  splashDelaySec = row["Value"]
                }
                if(row["Name"] == "TimeoutSec") {
                  idleTimeOut = row["Value"]
                  if(idleTimeOut == '') {
                    idleTimeOut = 60
                  }
                }
                if(row["Name"] == "Sheet") {
                  sheet_Name = row["Value"]
                  //console.log(sheet_Name, " sheet name")
                  // Load list at start
                  getGamesPrivateData()
                }
              })
              /////////////////////////////////////////////////////////////////////////
              // Set splash image from sheet
              //console.log(splash_img, " >>>")
              //console.log(document.getElementById('splashImg'), " item holder")
              //window.addEventListener('load', resetIdleTimer, true);
              resetIdleTimer()
              document.getElementById("splashImg").src = splash_img
              ///////////////////////////////////////////////////////////////////////////
            }
          })
        }
      } else {
        //console.log("SHOW COOKIES MESSAGE AND BUTTON TO CONTINUE")
        // showing message
        document.getElementById("loadingTxt").innerHTML = "Browser cookies disabled.<br>Enable it for best experience."
        document.getElementById("btnCont").style.display = 'inline-block'

        const detectDeviceType = () =>
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        ? 'Mobile'
        : 'Desktop';

        if(detectDeviceType() == 'Desktop') {
          document.getElementById('spinningLoader').style.top = '47vh; !important'
        } else {
          document.getElementById('spinningLoader').style.top = '47vh; !important'
        }
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    
    var sheet_Id = (getUrlVars()["id"]) ? getUrlVars()["id"].split('/')[0] : '';
    //var game_action = (getUrlVars()["id"]) ? (getUrlVars()["id"].split('/')[1] != undefined ? getUrlVars()["id"].split('/')[1] : '') : '';
    //////////////////////////////////////////////////////////////////////////////////////////////////
    let syncVal = (window.location.href.indexOf('&'));
    var game_action = ''
    if(syncVal != -1) {
      if(getUrlVars()["sync"] != undefined && getUrlVars()["sync"] != '') {
        if(getUrlVars()["sync"] == 'true') {
          game_action = 'sync'
        } else if(getUrlVars()["sync"] == 'false') {
          game_action = ''
        }
      } else {
        game_action = 'sync'
      }
    }
    //console.log(game_action, " game action")
    //return
    //////////////////////////////////////////////////////////////////////////////////////////////////
    window.addEventListener('load', (event) => {
      if(game_action == 'sync') {
        document.getElementById("loadingTxt").innerHTML = "Syncing<br>Games data"
        updateGoogleSheetWithData()
      } else {
      if(sheet_Id == '') {
        //$(".cardList").html('<div class="text-center mt-5 pt-5"><h3>Sheet ID MISSING</h3><p>Use correct setting seet Id.</p></div>');
        //hideloader();
        checkUserQueryString()
      } else {
        // Load setting data at start
        // Shiowing Loading modal
        getGamesSettingData()
      }
    }
  })
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function updateGoogleSheetWithData() {
      username = ""
      $.ajax({ 
        //url: apiurl, 
        url: 'private_data.php', 
        type:'POST', 
        data:{'sheetId' : sheet_Id, 'sheet' : 'Settings'}, 
        cache: false, 
        success: function (response) {
          //console.log(response, " --- " )
          if(response == "") {
            updateGoogleSheetWithGameData()
            return
          }
          var mResponseSC = response.replace(/�/g, "")
          var mResponseSCS = mResponseSC.replace(/: "/g, ": '") 
          var mResponseSCSE = mResponseSCS.replace(/",/g, "',") 
          var mResponseDQ = mResponseSCSE.replace(/"/g, "dqo") 
          var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
          var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 

          const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
          let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
          let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'"); 
          settingDataList = JSON.parse(replaceResponse)  
          settingLoaded = true
        
          $.each(settingDataList, function (index, row) {
            if(row["Name"] == "BGG") {
              username = row["Value"]
            }
            if(row["Name"] == "Sheet") {
              sheet_Name = row["Value"]
              // Load list at start
              //updateGoogleSheetWithGameData()
              getPrivateGamesData()
            }
          })
        }
      })
    }


    function getPrivateGamesData() {
      $.ajax({ 
        //url: apiurl, 
        url: 'private_data.php', 
        type:'POST', 
        data:{'sheetId' : sheet_Id, 'sheet' : sheet_Name}, 
        cache: false, 
        success: function (response) {
          //console.log(response)
          var mResponseSC = response.replace(/�/g, "")
          var mResponseSCS = mResponseSC.replace(/: "/g, ": '") 
          var mResponseSCSE = mResponseSCS.replace(/",/g, "',") 
          var mResponseDQ = mResponseSCSE.replace(/"/g, "dqo") 
          var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
          var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 
          const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
          let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
          let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'"); 
          privateDataList = JSON.parse(replaceResponse)
          privateLoaded = true
          updateGoogleSheetWithGameData()
        }
      })
    }

    function updateGoogleSheetWithGameData() {
      if(username == "") {
        console.log("No USER NAME")
        // In case using username to sync data
        $(".cardList").html(`<div id="updateText" class="text-center mt-4 pt-4" style="position: relative; margin-top: 1% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center;">
        <p class="text-center h3 mb-3" style="position:relative;top: 0.5em !important; z-index:9; font-family: 'DINCondensed-Bold'; letter-spacing: 0px; font-weight: 100; color:#3874b5; font-size:1.5em;">USE SPREADSHEET ID TO SYNC BGG GAMES DATA.</p></div>`)
        sheet_Id = ""
        user_name = ""
        hideloader();
        document.getElementById('splashScreen').style.display = 'none'
        document.getElementById('splashScreen').style.opacity = 0
        document.getElementById('splashScreen').style.overflow = "hidden"
      } else {
        $.ajax({
          //url: apiurl, 
          url: 'data.php',
          type: 'POST',
          data: 'username=' + username,
          cache: false,
          dataType: 'JSON',
          success: function (response) {
            //console.log(response.status, " ===== data.php")
            if (response.status == 200) {
              let _filteredOwnGames = filterOwnGames(response.boardgame, response.boardgameBasicData)
              boardgames = shuffleArray(_filteredOwnGames);
              
              //boardgames = shuffleGameBasedOnPrivateDataList()
              
              // Storing games count
              BGGGamesListCount = boardgames.length
              // Soted the game data initially for filtering
              allBoardGames = []
              // New changes
              allBoardGames.push(_filteredOwnGames)
              boardgameBasicData = response.boardgameBasicData;
              gameLoaded = true
              //////////////////////////////////////////////////////
              // Batch Update Games to google sheet
              let spSheetStat = batchUpdateGameList(boardgames)
              setTimeout(function() {
                //console.log(p, " spreasheet update ", gameMsg)
                //console.log("Batch Updated")
                if(gameMsg == "Games List Saved.") {
                $(".cardList").html(`<div id="updateText" class="text-center mt-4 pt-4" style="position: relative; margin-top: 1% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center;">
                  <p class="text-center h3 mb-3" style="position:relative;top: 0.5em !important; z-index:9; font-family: 'DINCondensed-Bold'; letter-spacing: 0px; font-weight: 100; color:#3874b5; font-size:1.5em; height:12em; overflow-x:hidden; overflow-y:auto; text-align:left !important;">${JSON.stringify(boardgames)}</p></div>`)
                } else if(gameMsg == "Sheet Already Updated") {
                  $(".cardList").html(`<div id="updateText" class="text-center mt-4 pt-4" style="position: relative; margin-top: 1% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center;">
                  <p class="text-center h3 mb-3" style="position:relative;top: 0.5em !important; z-index:9; font-family: 'DINCondensed-Bold'; letter-spacing: 0px; font-weight: 100; color:#3874b5; font-size:1.5em;">GAMES SHEET ALREADY SYNCED WITH BGG GAMES DATA</p></div>`)
                }
                sheet_Id = ""
                user_name = ""
                hideloader();
                document.getElementById('splashScreen').style.display = 'none'
                document.getElementById('splashScreen').style.opacity = 0
                document.getElementById('splashScreen').style.overflow = "hidden"
              }, 3000)

              //////////////////////////////////////////////////////
            } else {
              //console.log("ENTER HERE")
              let messageBody = ""
              if(sheet_Id != "" && user_name == "") {
                //messageBody = "*SHEET ID IS INCORRECT"
                messageBody = "Share the Google Sheet with<br>editor@zsheets-378406.iam.gserviceaccount.com<br>as Editor."
              } else if(sheet_Id == "" && user_name != "") {
                messageBody = "NO GAME COLLECTION FOR THIS USER"
              } else {
                messageBody = "BGG Server Response Issue. Try Again."
              }
              $(".cardList").html(`<div id="updateText" class="text-center mt-4 pt-4" style="position: relative; margin-top: 1% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center;">
                <h5 class="text-center h3 mb-3" style="position:relative;top: 1em !important; z-index:9; font-family: 'DINRegular'; letter-spacing: -1px; font-weight: 100; color:red">${messageBody}</h5></div>`)
              
              sheet_Id = ""
              user_name = ""
              hideloader();

              document.getElementById('splashScreen').style.display = 'none'
              document.getElementById('splashScreen').style.opacity = 0
              document.getElementById('splashScreen').style.overflow = "hidden"
            }
          },
        });
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function checkUserFillData() {
      //console.log("Click")

      // Change user activity type
      loadType = "refresh"

      // Store the actual link of the app
      let winLoc = window.location.href.split("?")[0]
      // get the values from the search form
      let uSheetId = document.getElementById("usheetId").value
      //console.log(uSheetId.length, " len")
      if(uSheetId != "") {
        $(".cardList").html("");
        let splitParam = "https://docs.google.com/spreadsheets/d/"
        if(uSheetId.length > 30) {
          let correctURL = uSheetId.includes(splitParam)
          if(correctURL) {
            // Get Google Sheet url
            sheet_Id = uSheetId.split(splitParam)[1].split("/")[0]
          } else {
            sheet_Id = uSheetId
          }
          window.history.replaceState({}, "null", (winLoc + "?id=" + sheet_Id))
          getGamesSettingData()
          showloader()
        } else {
          //console.log("AAAAAAA - IN USER NAME")
          // For user name
          user_name = uSheetId
          window.history.replaceState({}, "null", (winLoc + "?username=" + user_name))
          checkUserQueryString()
          showloader()
        }
      }

      /* let uName = document.getElementById("uname").value
      let uSheetURL = document.getElementById("usheeturl").value

      // Fetch the data based on the filled search form
      if(uSheetId != "") {
        $(".cardList").html("");
        sheet_Id = uSheetId
        window.history.replaceState({}, "null", (winLoc + "?id=" + sheet_Id))
        getGamesSettingData()
        showloader()
      } else if(uName != "") {
        $(".cardList").html("");
        user_name = uName
        window.history.replaceState({}, "null", (winLoc + "?username=" + user_name))
        checkUserQueryString()
        showloader()
      } else if(uSheetURL != "") {
        $(".cardList").html("");
        let splitParam = "https://docs.google.com/spreadsheets/d/"
       let correctURL = uSheetURL.includes(splitParam)
       if(correctURL) {
        sheet_Id = uSheetURL.split(splitParam)[1].split("/")[0]
       } else {
        sheet_Id = ""
       }
        window.history.replaceState({}, "null", (winLoc + "?id=" + sheet_Id))
        getGamesSettingData()
        showloader()
      } */
      //console.log(uSheetId, " --- ", uName, " --- ", uSheetURL)
    }

    /////////////////////////////////////////////////////////////////////////////////////////////////
    /* function shuffleGameBasedonOwn(data, basicData) {
      let ownGames = []
      for (var i=0; i < data.length; i++) {
        var objectid = data[i]['@attributes']['objectid'];
        var isOwn = boardgameBasicData[objectid].status['@attributes']['own']
        if(isOwn != 0) {
          ownGames.push(data)
        }
      }
      return ownGames
    } */
    
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function checkUserQueryString() {
      
      // showing message
      //console.log("showing data - ", document.getElementById("loadingTxt") , " >>>")
      document.getElementById("loadingTxt").innerHTML = "Loading <br>Games"

      //#F0B258
      let messageBody = ""
      if(sheet_Id == "" && user_name == "") {
        messageBody = "SHEET ID, SHEET URL OR USERNAME IS MISSING"
      } else if(sheet_Id != "" && user_name == "") {
        //messageBody = "*SHEET ID IS INCORRECT"
        messageBody = "Share the Google Sheet with<br>editor@zsheets-378406.iam.gserviceaccount.com<br>as Editor."
      } else {
        messageBody = "BGG Server Response Issue. Try Again."
      }
      //console.log(sheet_Id, " --- ", user_name)

      var username = (getUrlVars()["username"]) ? getUrlVars()["username"] : user_name;

      /* position: relative;
    margin-top: 3% !important;
    width: 100%;
    height: 55vh;
    display: flex;
    flex-direction: column;
    justify-content: center; */

      //console.log(username, " username")

      if(username == ''){
        $(".cardList").html(`<!--div class="bg-alto header-row-section p-3 position-sticky sticky-top" style="position: relative; z-index:99999 !important; height: 2.5em !important; border-left: 15px solid #ff0000;"></div-->
        <!--div class="position-sticky sticky-top" style="position: relative; z-index:99999 !important; height: 1em !important"></div -->
        <div id="sheetIdForm" class="text-center mt-4 pt-4" style="position: relative; margin-top: 3% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center; z-index:9999999999 !important;">
          <h5 class="text-center" style="color:red; display:${(sheet_Id == "" && user_name == "") ? 'none' : 'block'}">${messageBody}</h5>
          <h4 class="text-center h3 mb-3" style="position:relative;top: 1em; z-index:9; font-family: 'DINRegular'; letter-spacing: -1px; font-weight: 700;">ENTER YOUR BGG USER NAME, GOOGLE SHEET ID, OR GOOGLE SHEET URL</h4>
          <div id="settingBox" class="text-center mt-4 pt-4" style="width: 60%; position:relative; height: auto; left: 20%;background-color: #FFFFFF; box-shadow: 0 0 0 3px #FFFFFF, 0 0 0 3px #FFFFFF; margin-top: 0em !important; border-radius: 2px;">
            <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: -10px;">
              <!--h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET ID</h5-->
              <input class="form-control" type="text" id="usheetId" name="usheetId" style="position: relative; margin-top: 0px; width: 100%;margin-left: 0em; height: 2.5em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
            </div>
            <!--h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0em">OR</h5>
            <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
              <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET URL</h5>
              <input type="text" id="usheeturl" name="usheeturl" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
            </div>
            <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0.6em">OR</h5>
            <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
              <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">BGG USERNAME</h5>
              <input type="text" id="uname" name="uname" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
            </div-->
            <!--button class="btn btn-outline-primary" style="position:relative; margin-top:0em;margin-bottom:0.5em; right:0px" onClick="checkUserFillData();">SEARCH</button-->
            <button onClick="checkUserFillData();" class="btn_submit" style="position:relative; margin-top:-1em;margin-bottom:0.5em; right:0px"><img src="images/btn_img.png" class="img-fluid" width="70" /></button>
            </div>
          </div>
        </div>`)
        hideloader();
        sheet_Id = ""
        user_name = ""
        return
      } else {
        // Check cookies stat
        var cookiesStat = checkCookieStatus()
        //console.log(cookiesStat, " cookie")
        if(cookiesStat) {

          //console.log(localStorage.getItem("earshot_boardgames"), " --- ", loadType)
          /* if(loadType == "normal" && localStorage.getItem("earshot_boardgames") != null) { */
          //console.log(localStorage.getItem("zsheet_url"), " --- ", loadType)
          // New Chnange
          //if(loadType == "normal" && localStorage.getItem("zsheet_url") == window.location.href) {

          //console.log(loadType, " --- ", JJLC.getItem("zsheet_url"), " == ", window.location.href)

          if(loadType == "normal" /* && JJLC.getItem("zsheet_url").toLowerCase() == window.location.href.toLowerCase() */) {
          /* if(loadType == "normal" && store.get('earshot_boardgames') != "undefined") { */
          /* if(loadType == "normal" && store.get('earshot_bggData').bgg_boardGames != "undefined") { */

            //console.log("loading cache data -- 1")

            // Hide the top border
            document.getElementById('page-header').style.display = 'none'
            document.getElementById('page-footer').style.display = 'none'
            

            // Load data
            //console.log("Loading data from local storage - checkUserQueryString")
            
            /* boardgameBasicData = JSON.parse(localStorage.getItem("earshot_boardgameBasicData"));
            boardgames = shuffleGameBasedonOwn(shuffleArray(JSON.parse(localStorage.getItem("earshot_boardgames"))), boardgameBasicData); */

            // New Changes
            //boardgames = shuffleArray(JSON.parse(localStorage.getItem("earshot_boardgames"))), 
            boardgames = shuffleArray(JSON.parse(JJLC.getItem('earshot_boardgames')))
            boardgames = shuffleGameBasedOnPrivateDataList()

            // Storing games count
            BGGGamesListCount = boardgames.length
            //BGGGamesListCount = JSON.parse(JJLC.getItem('earshot_boardgames').length)


            //console.log(boardgames.length, " cache")

            ////////////////////////////////////////////////////////////////////////////
            // set splash image
            $.each(settingDataList, function (index, row) {
              /* if(row["Name"] == "BGG") {
                user_name = row["Value"]
              } */
              if(row["Name"] == "SplashImageUrl") {
                splash_img = row["Value"]
              }
              if(row["Name"] == "SplashImageDelaySec") {
                splashDelaySec = row["Value"]
              }
              if(row["Name"] == "TimeoutSec") {
                idleTimeOut = row["Value"]
                if(idleTimeOut == '') {
                  idleTimeOut = 60
                }
              }
              /* if(row["Name"] == "Sheet") {
                sheet_Name = row["Value"]
                // Load list at start
                getGamesPrivateData()
              } */
            })
            //console.log("ENTER HERE - ", splash_img)
            //window.addEventListener('load', resetIdleTimer, true);
            resetIdleTimer()
            document.getElementById("splashImg").src = splash_img
            ///////////////////////////////////////////////////////////////////////////


            /* boardgames = shuffleArray(JSON.parse(store.get('earshot_boardgames').data)); */
            /* boardgames = shuffleArray(JSON.parse(store.get('earshot_bggData').bgg_boardGames)); */

            //boardgames = boardgames[0]
            
            // Soted the game data initially for filtering
            allBoardGames = []
            
            // New Changes
            //allBoardGames.push(JSON.parse(localStorage.getItem("earshot_boardgames")))
            allBoardGames.push(JSON.parse(JJLC.getItem("earshot_boardgames")))

            /* allBoardGames.push(JSON.parse(store.get('earshot_boardgames').data)) */
            /* allBoardGames.push(JSON.parse(store.get('earshot_bggData').bgg_boardGames)) */
            // console.log(boardgames);
            
            // New Changes
            //boardgameBasicData = JSON.parse(localStorage.getItem("earshot_boardgameBasicData"));
            boardgameBasicData = JSON.parse(JJLC.getItem("earshot_boardgameBasicData"));

            
            /* boardgameBasicData = JSON.parse(store.get('earshot_boardgameBasicData').data); */
            /* boardgameBasicData = JSON.parse(store.get('earshot_bggData').bgg_boardgameBasicData); */

            gameLoaded = true
            
            //////////////////////////////////////////////////////
            // Batch Update Games to google sheet
            // UnComment if needed
            //batchUpdateGameList(boardgames)
            //////////////////////////////////////////////////////
            // render pagination
            renderPaginationHTML();
            
            let boardgamesChunks = boardgames.slice(0, 10);
            $.each(boardgamesChunks, function (index, data) {
              ///////////////////////////////////////////////////
              // changes made 13/6
              renderListViewItem(data);
              ///////////////////////////////////////////////////
            });


            var slideshowStat = 5
            /////////////////////////////////////////////////////////////////////
            /* $.each(settingDataList, function (index, row) {
              if(row["Profile"] == "BGG") {
                slideshowStat = row["SlideshowDelaySec"]
                if(slideshowStat == undefined) {
                  slideshowStat = 5
                }
              }
            }) */
            $.each(settingDataList, function (index, row) {
              if(row["Name"] == "SlideshowDelaySec") {
                slideshowStat = row["Value"]
                if(slideshowStat == undefined) {
                  slideshowStat = 5
                }
              }
            })
            
            
             ///////////////////////////////////////////////////////////////////////////
            // Show splash screen
            if(splashDelaySec >= 0) {
              if(splash_img != '') {
                ShowSplashScreen()
              }
            }
            ///////////////////////////////////////////////////////////////////////////
            //console.log("IN THIS SLAB")
            ////////////////////////////////////////////////////////////////////////

            if(slideshowStat > 0) {
              // changes made 13/6
              viewSlideShowHTML()

              setTimeout(function() {
                MODE_TYPE = "slideshow"
                idleStatus = true
                if(MODE_TYPE == "slideshow") {
                  //console.log("ENTER ---- Here")
                  $('.slideshow-slider').slick('slickPlay')
                  slideStatus = "cycling"
                  hideMenuButtons()
                  clickedSlideID = -1
                  /////////////////////////////////////////////
                  // Hide Filter Box
                  //hideFilterBox();
                  CloseFilterBox()
                  ////////////////////////////////////////////
                }
                if(document.getElementById("splashScreen").style.opacity == 1) {
                  $('.slideshow-slider').slick('slickPause')
                } else {
                  $('.slideshow-slider').slick('slickPlay')
                  slideStatus = "cycling"
                }
              }, 350)
            } else {
              // Hide Top button
              document.getElementById('btnSlideShow').style.display = 'none'
            }
            hideloader();
            
          } else /* if(loadType == "refresh") */ {
            //console.log("Loading data from server - checkUserQueryString- ", username)
            $.ajax({
              //url: apiurl, 
              url: 'data.php',
              type: 'POST',
              data: 'username=' + username,
              cache: false,
              dataType: 'JSON',
              success: function (response) {
                //console.log(response.status, " ===== data.php")
                //response.status = 404
                if (response.status == 200) {

                  //return

                  // Hide the top border
                  document.getElementById('page-header').style.display = 'none'
                  document.getElementById('page-footer').style.display = 'none'

                  document.getElementById('splashScreen').style.display = 'none'
                  document.getElementById('splashScreen').style.opacity = 0
                  document.getElementById('splashScreen').style.overflow = "hidden"


                  //////////////////////////////////////////////////////////////////
                 /*  var mResponseSC = response.boardgame.replace(/�/g, "") 
                  var mResponseDQ = mResponseSC.replace(/"/g, "dqo") 
                  var mResponseDDQ = mResponseDQ.replace(/: dqo/g, ": 'dqo") 
                  var mResponseDDQE = mResponseDDQ.replace(/dqo,/g, "dqo',") 
                  const regex = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
                  let replaceResponseRegX = mResponseDDQE.replace(regex, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
                  let replaceResponse = replaceResponseRegX.replace(/\\'/g, "'");  */

                  //privateDataList = JSON.parse(replaceResponse)
                  //////////////////////////////////////////////////////////////////////

                  /* var mResponseSC1 = response.boardgameBasicData.replace(/�/g, "") 
                  var mResponseDQ1 = mResponseSC1.replace(/"/g, "dqo") 
                  var mResponseDDQ1 = mResponseDQ1.replace(/: dqo/g, ": 'dqo") 
                  var mResponseDDQE1 = mResponseDDQ1.replace(/dqo,/g, "dqo',") 
                  const regex1 = /('(?=(,\s*')))|('(?=:))|((?=([:,]\s*))')|((?={)')|('(?=}))/g; 
                  let replaceResponseRegX1 = mResponseDDQE.replace(regex1, '"').replace(/{'/g, '{"').replace(/: '/g, ': "').replace(/, '/g, ', "'); 
                  let replaceResponse1 = replaceResponseRegX1.replace(/\\'/g, "'");  */
                  //////////////////////////////////////////////////////////////////////

                  /* boardgameBasicData = response.boardgameBasicData;
                  boardgames = shuffleGameBasedonOwn(shuffleArray(response.boardgame), boardgameBasicData);
                  boardgames = boardgames[0] */

                  //boardgameBasicData = response.boardgameBasicData;
                  /* let _filteredOwnGames = filterOwnGames(response.boardgame, response.boardgameBasicData)
                  console.log(_filteredOwnGames.length, " >> _filteredOwnGames >>>>>>>>>", response.boardgame.length) */

                  //console.log(response.boardgame)

                  let _filteredOwnGames = filterOwnGames(response.boardgame, response.boardgameBasicData)
                  //let _filteredOwnGames = filterOwnGames(replaceResponse, replaceResponse1)

                  //console.log(_filteredOwnGames, " ---- ", response.boardgame)

                  // New Changes
                  //boardgames = shuffleArray(response.boardgame);

                  /* console.log("ENTER HERE NOW")

                  var newList = _filteredOwnGames.sort(function(a, b) {
                    return compareStrings(a.name, b.name);
                    //console.log(a.name, " NAME ", b.name)
                  })

                  console.log(newList) */
                  boardgames = shuffleArray(_filteredOwnGames);
                  boardgames = shuffleGameBasedOnPrivateDataList()

                  // Storing games count
                  BGGGamesListCount = boardgames.length
                  //BGGGamesListCount = _filteredOwnGames.length

                  //console.log(boardgames.length)

                  //console.log(BGGGamesListCount, " --- ", boardgames.length, " ---- ", _filteredOwnGames)

                  //console.log(boardgames.length, " length")

                  //console.log("loading normal data")

                  // Caching browser url
                  //console.log(window.location.href, " >>browser url")
                  
                  // iphone
                  setTimeout(function() {
                    //localStorage.setItem("zsheet_url", window.location.href)
                    JJLC.setItem('zsheet_url', JSON.stringify(window.location.href), 'no-beautify');

                    // new Changes
                    //localStorage.setItem("earshot_boardgames", JSON.stringify(response.boardgame))
                    //JJLC.setItem('earshot_boardgames', JSON.stringify(response.baordgames), 'no-beautify');

                    // iphone
                    JJLC.setItem('earshot_boardgames', JSON.stringify(_filteredOwnGames), 'no-beautify');
                  }, 100)

                  /* console.log(compressed.length, " compressed.length ", JSON.stringify(JJLC.getDict('earshot_boardgames')).length)
                  var size = compressed.length + Number(JSON.stringify(JJLC.getItem('earshot_boardgames')).length);
                  console.log('initial size : ' + (response.boardgame.length / 1024).toPrecision(3) + ' kB')
                  console.log('compressed size : ' + (size / 1024).toPrecision(3) + ' kB')
                  */
                  //console.log(compressed, " >> data")
                  /* store.set("earshot_boardgames", { data:JSON.stringify(response.boardgame)}) */
                  /* store.set("earshot_bggData", { bgg_boardGames:JSON.stringify(response.boardgame)}) */

                  // Soted the game data initially for filtering
                  allBoardGames = []
                  // New changes
                  //allBoardGames.push(response.boardgame)
                  allBoardGames.push(_filteredOwnGames)

                  // New changes
                  // console.log(boardgames);
                  //let _filteredOwnGamesBasicData = filterOwnGamesBasicData(response.boardgame, response.boardgameBasicData)
                  //console.log(_filteredOwnGamesBasicData, " >>>>_filteredOwnGamesBasicData")
                  boardgameBasicData = response.boardgameBasicData;
                  //boardgameBasicData = _filteredOwnGamesBasicData;

                  // New Changes
                  //let _filteredOwnGames = filterOwnGames(response.boardgame)
                  //console.log(boardgames.length, " ::::::::: ", _filteredOwnGames.length)

                  /////////////////////////////////////////////////////////////////////////////
                  /* console.log(typeof(localStorage), " TYPE")
                  if(typeof(localStorage) !== "undefined") {
                      // Code for localStorage/sessionStorage.
                      console.log("Your browser support Web Storage.");
                  } else {
                    console.log("Your browser does not support Web Storage.");
                  } */
                  /////////////////////////////////////////////////////////////////////////////


                  // New Changes
                  //localStorage.setItem("earshot_boardgameBasicData", JSON.stringify(response.boardgameBasicData))

                  
                  // iPhone
                  setTimeout(function() {
                    JJLC.setItem("earshot_boardgameBasicData", JSON.stringify(response.boardgameBasicData))
                  }, 150)
                  
                  //JJLC.setItem("earshot_boardgameBasicData", JSON.stringify(_filteredOwnGamesBasicData))

                  /* store.set("earshot_boardgameBasicData", { data:JSON.stringify(response.boardgameBasicData)}) */
                  /* store.set("earshot_bggData", { bgg_boardgameBasicData:JSON.stringify(response.boardgameBasicData)}) */

                  gameLoaded = true

                  //console.log(boardgames, " after process")
                  //////////////////////////////////////////////////////
                  // Batch Update Games to google sheet
                  //batchUpdateGameList(boardgames)
                  batchUpdateGameList(_filteredOwnGames)
                  //////////////////////////////////////////////////////
                  // render pagination
                  renderPaginationHTML();
                  let boardgamesChunks = boardgames.slice(0, 10);
                  $.each(boardgamesChunks, function (index, data) {
                    renderListViewItem(data);
                  });

                  /* for (let i:number=0; i<settingsData.length; i++) {
                    if(settingsData[i]['Name'] === 'SMTP Server') {
                      smtp_server = settingsData[i]['Value']
                    } else if(settingsData[i]['Name'] === 'SMTP Email') {
                      smtp_email = settingsData[i]['Value']
                    } else if(settingsData[i]['Name'] === 'SMTP Password') {
                      smtp_password = settingsData[i]['Value']
                    } else if(settingsData[i]['Name'] === 'SMTP Port') {
                      smtp_port = settingsData[i]['Value']
                    }
                  } */


                  /* $.each(settingDataList, function (index, row) {
                    console.log(row["Name"])
                  });

                  return
                 */


                  var slideshowStat = 5
                  //////////////////////////////////////////////////////////////////////////
                  /* $.each(settingDataList, function (index, row) {
                    if(row["Profile"] == "BGG") {
                      slideshowStat = row["SlideshowDelaySec"]
                      if(slideshowStat == undefined) {
                        slideshowStat = 5
                      }
                    }
                  }) */
                  $.each(settingDataList, function (index, row) {
                    if(row["Name"] == "SlideshowDelaySec") {
                      slideshowStat = row["Value"]
                      if(slideshowStat == undefined) {
                        slideshowStat = 5
                      }
                    }
                  })
                  ///////////////////////////////////////////////////////////////////////////
                  // Show splash screen
                  if(splashDelaySec >= 0) {
                    if(splash_img != '') {
                      ShowSplashScreen()
                    }
                  }
                 
                  ///////////////////////////////////////////////////////////////////////////
                  //console.log("IN THIS SLAB 1")

                  //console.log(slideshowStat, " >>>>")

                  if(slideshowStat > 0) {
                    // init slideshow timer
                    // changes made 13/6
                    viewSlideShowHTML()
                    setTimeout(function() {
                      MODE_TYPE = "slideshow"
                      idleStatus = true
                      if(MODE_TYPE == "slideshow") {
                        //idleStatus = true
                        $('.slideshow-slider').slick('slickPlay')
                        slideStatus = "cycling"
                        hideMenuButtons()
                        clickedSlideID = -1
                        /////////////////////////////////////////////
                        // Hide Filter Box
                        //hideFilterBox();
                        CloseFilterBox()
                        ////////////////////////////////////////////
                      }
                      if(document.getElementById("splashScreen").style.opacity == 1) {
                        $('.slideshow-slider').slick('slickPause')
                      } else {
                        $('.slideshow-slider').slick('slickPlay')
                        slideStatus = "cycling"
                      }
                    }, 350)
                  } else {
                     // Hide Top button
                     document.getElementById('btnSlideShow').style.display = 'none'
                  }


                  // initiateSlickSlider();
                } else {
                  // alert(response.error);
                  // $(".cardList").html('<div class="alert alert-danger">'+response.error+'</div>');
                  /* $(".cardList").html('<div class="text-center mt-5 pt-5"><h3>NO COLLECTION FOR THIS USER</h3><p>Use correct user to find its game collection.</p></div>') */;
                  let messageBody = ""
                  if(sheet_Id != "" && user_name == "") {
                    //messageBody = "*SHEET ID IS INCORRECT"
                    messageBody = "Share the Google Sheet with<br>editor@zsheets-378406.iam.gserviceaccount.com<br>as Editor."
                  } else if(sheet_Id == "" && user_name != "") {
                    messageBody = "NO GAME COLLECTION FOR THIS USER"
                  } else {
                    messageBody = "BGG Server Response Issue. Try Again."
                  }

                  $(".cardList").html(`<!--div class="bg-alto header-row-section p-3 position-sticky sticky-top" style="position: relative; z-index:99999 !important; height: 2.5em !important; border-left: 15px solid #ff0000;"></div-->
                  <!--div class="position-sticky sticky-top" style="position: relative; z-index:99999 !important; height: 1em !important"></div-->
                  <div class="text-center mt-4 pt-4" style="position: relative; margin-top: 3% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center; z-index:999999999 !important;">
                    <h4 class="text-center h3 mb-3" style="position:relative;top: 1em; z-index:9; font-family: 'DINRegular'; letter-spacing: -1px; font-weight: 100; color:red">${messageBody}</h4>
                    <!--div class="text-center">Use correct sheet id or username or sheet url to find its game collection.</div>
                    <div id="settingBox" class="text-center mt-4 pt-4" style="width: 60%; position:relative; height: auto; left: 20%; background-color: #F0B25880; box-shadow: 0 0 0 3px #F0B25880, 0 0 0 3px #F0B25820; margin-top: 1em !important;">
                      <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: -10px;">
                        <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET ID</h5>
                        <input type="text" id="usheetId" name="usheetId" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
                      </div>
                      <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0em;">OR</h5>
                      <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
                        <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET URL</h5>
                        <input type="text" id="usheeturl" name="usheeturl" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
                      </div> <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0.6em;">OR</h5> <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
                        <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">BGG USERNAME</h5>
                        <input type="text" id="uname" name="uname" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
                      </div-->


                      <h4 class="text-center h3 mb-3" style="position:relative;top: 1em; z-index:9; font-family: 'DINRegular'; letter-spacing: -1px; font-weight: 700;">ENTER YOUR BGG USER NAME, GOOGLE SHEET ID, OR GOOGLE SHEET URL</h4>
            <div id="settingBox" class="text-center mt-4 pt-4" style="width: 60%; position:relative; height: auto; left: 20%;background-color: #FFFFFF; box-shadow: 0 0 0 3px #FFFFFF, 0 0 0 3px #FFFFFF; margin-top: 0em !important; border-radius: 2px;">
              <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: -10px;">
                <!--h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET ID</h5-->
                <input class="form-control" type="text" id="usheetId" name="usheetId" style="position: relative; margin-top: 0px; width: 100%;margin-left: 0em; height: 2.5em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
              </div>
              <!--h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0em">OR</h5>
              <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
                <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET URL</h5>
                <input type="text" id="usheeturl" name="usheeturl" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
              </div>
              <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0.6em">OR</h5>
              <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
                <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">BGG USERNAME</h5>
                <input type="text" id="uname" name="uname" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
              </div-->
              <!--button class="btn btn-outline-primary" style="position:relative; margin-top:0em;margin-bottom:0.5em; right:0px" onClick="checkUserFillData();">SEARCH</button-->
              <button onClick="checkUserFillData();" class="btn_submit" style="position:relative; margin-top:-1em;margin-bottom:0.5em; right:0px"><img src="images/btn_img.png" class="img-fluid" width="70" /></button>





                    </div>
                  </div>
                </div>`)
                }
                sheet_Id = ""
                user_name = ""
                hideloader();
              },
            });
          }
        } else {
          //console.log("CAlled")
          $.ajax({
            //url: apiurl, 
            url: 'data.php',
            type: 'POST',
            data: 'username=' + username,
            cache: false,
            dataType: 'JSON',
            success: function (response) {
              //console.log(response.status, " ===== data.php")
              if (response.status == 200) {

                // Hide the top border
                document.getElementById('page-header').style.display = 'none'
                document.getElementById('page-footer').style.display = 'none'

                document.getElementById('splashScreen').style.display = 'none'
                document.getElementById('splashScreen').style.opacity = 0
                document.getElementById('splashScreen').style.overflow = "hidden"

                


                /* boardgameBasicData = response.boardgameBasicData;
                boardgames = shuffleGameBasedonOwn(shuffleArray(response.boardgame), boardgameBasicData);
                boardgames = boardgames[0] */

                //boardgameBasicData = response.boardgameBasicData;
                /* let _filteredOwnGames = filterOwnGames(response.boardgame, response.boardgameBasicData)
                console.log(_filteredOwnGames.length, " >> _filteredOwnGames >>>>>>>>>", response.boardgame.length) */

                let _filteredOwnGames = filterOwnGames(response.boardgame, response.boardgameBasicData)

                //console.log(_filteredOwnGames)

                // New Changes
                //boardgames = shuffleArray(response.boardgame);
                boardgames = shuffleArray(_filteredOwnGames);
                boardgames = shuffleGameBasedOnPrivateDataList()

                // Storing games count
                BGGGamesListCount = boardgames.length
                //BGGGamesListCount = _filteredOwnGames.length



                ////////////////////////////////////////////////////////////////////////////
                // set splash image
                /* $.each(settingDataList, function (index, row) {
                  if(row["Name"] == "SplashImageUrl") {
                    splash_img = row["Value"]
                  }
                  if(row["Name"] == "SplashImageDelaySec") {
                    splashDelaySec = row["Value"]
                  }
                  
                })
                //console.log("ENTER HERE - ", splash_img)
                document.getElementById("splashImg").src = splash_img */
                ///////////////////////////////////////////////////////////////////////////

                //console.log(boardgames.length, " length")

                //console.log("loading normal data")

                // Caching browser url
                //console.log(window.location.href, " >>browser url")
                
                // iphone
                /* setTimeout(function() {
                  //localStorage.setItem("zsheet_url", window.location.href)
                  JJLC.setItem('zsheet_url', JSON.stringify(window.location.href), 'no-beautify');

                  // new Changes
                  //localStorage.setItem("earshot_boardgames", JSON.stringify(response.boardgame))
                  //JJLC.setItem('earshot_boardgames', JSON.stringify(response.baordgames), 'no-beautify');

                  // iphone
                  JJLC.setItem('earshot_boardgames', JSON.stringify(_filteredOwnGames), 'no-beautify');
                }, 100) */

                /* console.log(compressed.length, " compressed.length ", JSON.stringify(JJLC.getDict('earshot_boardgames')).length)
                var size = compressed.length + Number(JSON.stringify(JJLC.getItem('earshot_boardgames')).length);
                console.log('initial size : ' + (response.boardgame.length / 1024).toPrecision(3) + ' kB')
                console.log('compressed size : ' + (size / 1024).toPrecision(3) + ' kB')
                */
                //console.log(compressed, " >> data")
                /* store.set("earshot_boardgames", { data:JSON.stringify(response.boardgame)}) */
                /* store.set("earshot_bggData", { bgg_boardGames:JSON.stringify(response.boardgame)}) */

                // Soted the game data initially for filtering
                allBoardGames = []
                // New changes
                //allBoardGames.push(response.boardgame)
                allBoardGames.push(_filteredOwnGames)

                // New changes
                // console.log(boardgames);
                //let _filteredOwnGamesBasicData = filterOwnGamesBasicData(response.boardgame, response.boardgameBasicData)
                //console.log(_filteredOwnGamesBasicData, " >>>>_filteredOwnGamesBasicData")
                boardgameBasicData = response.boardgameBasicData;
                //boardgameBasicData = _filteredOwnGamesBasicData;

                // New Changes
                //let _filteredOwnGames = filterOwnGames(response.boardgame)
                //console.log(boardgames.length, " ::::::::: ", _filteredOwnGames.length)

                /////////////////////////////////////////////////////////////////////////////
                /* console.log(typeof(localStorage), " TYPE")
                if(typeof(localStorage) !== "undefined") {
                    // Code for localStorage/sessionStorage.
                    console.log("Your browser support Web Storage.");
                } else {
                  console.log("Your browser does not support Web Storage.");
                } */
                /////////////////////////////////////////////////////////////////////////////


                // New Changes
                //localStorage.setItem("earshot_boardgameBasicData", JSON.stringify(response.boardgameBasicData))

                
                // iPhone
                /* setTimeout(function() {
                  JJLC.setItem("earshot_boardgameBasicData", JSON.stringify(response.boardgameBasicData))
                }, 150) */
                
                //JJLC.setItem("earshot_boardgameBasicData", JSON.stringify(_filteredOwnGamesBasicData))

                /* store.set("earshot_boardgameBasicData", { data:JSON.stringify(response.boardgameBasicData)}) */
                /* store.set("earshot_bggData", { bgg_boardgameBasicData:JSON.stringify(response.boardgameBasicData)}) */

                gameLoaded = true

                //console.log(boardgames, " after process")
                //////////////////////////////////////////////////////
                // Batch Update Games to google sheet
                //batchUpdateGameList(boardgames)
                batchUpdateGameList(_filteredOwnGames)

                
                //////////////////////////////////////////////////////
                // render pagination
                renderPaginationHTML();
                let boardgamesChunks = boardgames.slice(0, 10);
                $.each(boardgamesChunks, function (index, data) {
                  renderListViewItem(data);
                });


                /* for (let i:number=0; i<settingsData.length; i++) {
                  if(settingsData[i]['Name'] === 'SMTP Server') {
                    smtp_server = settingsData[i]['Value']
                  } else if(settingsData[i]['Name'] === 'SMTP Email') {
                    smtp_email = settingsData[i]['Value']
                  } else if(settingsData[i]['Name'] === 'SMTP Password') {
                    smtp_password = settingsData[i]['Value']
                  } else if(settingsData[i]['Name'] === 'SMTP Port') {
                    smtp_port = settingsData[i]['Value']
                  }
                } */

                
                var slideshowStat = 5
                ////////////////////////////////////////////////////////////////////////////////////////
                /* $.each(settingDataList, function (index, row) {
                  if(row["Profile"] == "BGG") {
                    slideshowStat = row["SlideshowDelaySec"]
                    if(slideshowStat == undefined) {
                      slideshowStat = 5
                    }
                  }
                }) */
                $.each(settingDataList, function (index, row) {
                  if(row["Name"] == "SlideshowDelaySec") {
                    slideshowStat = row["Value"]
                    if(slideshowStat == undefined) {
                      slideshowStat = 5
                    }
                  }
                })

                 ///////////////////////////////////////////////////////////////////////////
                  // Show splash screen
                  if(splashDelaySec >= 0) {
                    if(splash_img != '') {
                      ShowSplashScreen()
                    }
                  }
                  ///////////////////////////////////////////////////////////////////////////

                  console.log("IN THIS SLAB 2")

                /////////////////////////////////////////////////////////////////////////////////////////

                //console.log(slideshowStat, " >>>>")

                if(slideshowStat > 0) {
                  // changes made 13/6
                  viewSlideShowHTML()
                  
                  setTimeout(function() {
                    MODE_TYPE = "slideshow"
                    idleStatus = true
                    if(MODE_TYPE == "slideshow") {
                      //idleStatus = true
                      $('.slideshow-slider').slick('slickPlay')
                      slideStatus = "cycling"
                      hideMenuButtons()
                      clickedSlideID = -1
                      /////////////////////////////////////////////
                      // Hide Filter Box
                      //hideFilterBox();
                      CloseFilterBox()
                      ////////////////////////////////////////////
                    }
                    if(document.getElementById("splashScreen").style.opacity == 1) {
                      $('.slideshow-slider').slick('slickPause')
                    } else {
                      $('.slideshow-slider').slick('slickPlay')
                      slideStatus = "cycling"
                    }
                  }, 350)
                } else {
                   // Hide Top button
                   document.getElementById('btnSlideShow').style.display = 'none'
                }
                // initiateSlickSlider();
              } else {
                // alert(response.error);
                // $(".cardList").html('<div class="alert alert-danger">'+response.error+'</div>');
                /* $(".cardList").html('<div class="text-center mt-5 pt-5"><h3>NO COLLECTION FOR THIS USER</h3><p>Use correct user to find its game collection.</p></div>') */;
                let messageBody = ""
                if(sheet_Id != "" && user_name == "") {
                  //messageBody = "*SHEET ID IS INCORRECT"
                  messageBody = "Share the Google Sheet with<br>editor@zsheets-378406.iam.gserviceaccount.com<br>as Editor."
                } else if(sheet_Id == "" && user_name != "") {
                  messageBody = "NO GAME COLLECTION FOR THIS USER"
                } else {
                  messageBody = "BGG Server Response Issue. Try Again."
                }

                $(".cardList").html(`<!--div class="bg-alto header-row-section p-3 position-sticky sticky-top" style="position: relative; z-index:99999 !important; height: 2.5em !important; border-left: 15px solid #ff0000;"></div-->
                <!--div class="position-sticky sticky-top" style="position: relative; z-index:99999 !important; height: 1em !important"></div-->
                <div class="text-center mt-4 pt-4" style="position: relative; margin-top: 3% !important; width:100%; height:38vh; display:flex; flex-direction:column;justify-content:center; z-index:999999999 !important;">
                  <h4 class="text-center h3 mb-3" style="position:relative;top: 1em; z-index:9; font-family: 'DINRegular'; letter-spacing: -1px; font-weight: 100; color:red">${messageBody}</h4>
                  <!--div class="text-center">Use correct sheet id or username or sheet url to find its game collection.</div>
                  <div id="settingBox" class="text-center mt-4 pt-4" style="width: 60%; position:relative; height: auto; left: 20%; background-color: #F0B25880; box-shadow: 0 0 0 3px #F0B25880, 0 0 0 3px #F0B25820; margin-top: 1em !important;">
                    <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: -10px;">
                      <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET ID</h5>
                      <input type="text" id="usheetId" name="usheetId" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
                    </div>
                    <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0em;">OR</h5>
                    <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
                      <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET URL</h5>
                      <input type="text" id="usheeturl" name="usheeturl" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
                    </div> <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0.6em;">OR</h5> <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
                      <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">BGG USERNAME</h5>
                      <input type="text" id="uname" name="uname" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
                    </div-->


                    <h4 class="text-center h3 mb-3" style="position:relative;top: 1em; z-index:9; font-family: 'DINRegular'; letter-spacing: -1px; font-weight: 700;">ENTER YOUR BGG USER NAME, GOOGLE SHEET ID, OR GOOGLE SHEET URL</h4>
          <div id="settingBox" class="text-center mt-4 pt-4" style="width: 60%; position:relative; height: auto; left: 20%;background-color: #FFFFFF; box-shadow: 0 0 0 3px #FFFFFF, 0 0 0 3px #FFFFFF; margin-top: 0em !important; border-radius: 2px;">
            <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: -10px;">
              <!--h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET ID</h5-->
              <input class="form-control" type="text" id="usheetId" name="usheetId" style="position: relative; margin-top: 0px; width: 100%;margin-left: 0em; height: 2.5em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
            </div>
            <!--h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0em">OR</h5>
            <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
              <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">GOOGLE SPREADSHEET URL</h5>
              <input type="text" id="usheeturl" name="usheeturl" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
            </div>
            <h5 style="width: 97%; position: relative; left: 1.7% !important; background-color: #F0B258; margin-top: 0.6em">OR</h5>
            <div style="border: 2px solid #FFFFFF; padding: 5px; border-radius: 5px; position: relative; width: 96%; left: 2%; top: 3px;">
              <h5 class="text-left" style="position:relative; margin-top:0px !important; margin-left:0em; width:100%">BGG USERNAME</h5>
              <input type="text" id="uname" name="uname" style="position: relative; margin-top: -5px; width: 100%; margin-left: 0em; height: 2em; font-family: DINRegular;" pattern="[A-Za-z0-9]+" onkeydown="if(['Space'].includes(arguments[0].code)){return false;}"/>
            </div-->
            <!--button class="btn btn-outline-primary" style="position:relative; margin-top:0em;margin-bottom:0.5em; right:0px" onClick="checkUserFillData();">SEARCH</button-->
            <button onClick="checkUserFillData();" class="btn_submit" style="position:relative; margin-top:-1em;margin-bottom:0.5em; right:0px"><img src="images/btn_img.png" class="img-fluid" width="70" /></button>





                  </div>
                </div>
               </div>`)
              }
              sheet_Id = ""
              user_name = ""
              hideloader();
            },
          });
        }
      }
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////
    /* function compareStrings(a, b) {
      // Assuming you want case-insensitive comparison
      a = a.toLowerCase();
      b = b.toLowerCase();
      return (a < b) ? -1 : (a > b) ? 1 : 0;
    } */
    function shuffleGameBasedOnPrivateDataList() {
      const originalArray = boardgames;
      const sortOrder = privateDataList;
      var gameObj = []
      if(privateDataList.length == 0) {
        for (var i=0; i < boardgames.length; i++) {
          gameObj.push(boardgames[i])
        }
      } else {
      $.each(privateDataList, function (index, row) {
      for (var i=0; i < boardgames.length; i++) {
        var objectid = boardgames[i]['@attributes']['objectid'];
          if (row["Game ID"] == objectid) {
            gameObj.push(boardgames[i])
          } 
        }
        });
      }

      //console.log(gameObj, " LIST")
      return gameObj

      
      
    
    //console.log(originalArray, " -------------------")
    //return array;
      /* const sorter = (a, b) => {
        if(sortOrder.includes(a['@attributes']['objectid'])){
            return -1;
        };
        if(sortOrder.includes(b['@attributes']['objectid'])){
            return 1;
        };
        return 0;
      };
      originalArray.sort(sorter);
      //console.log(boardgames, " BGG")
      console.log(originalArray, "BASED ON IT");
      //return originalArray */
    }

    
    ///////////////////////////////////////////////////////////////////////////////////////////////////
    function removeItemOnce(arr, value) {
      for(var i=0; i < privateDataList.length; i++) {
        var gameDetails = []
        gameDetails.push([String(privateDataList[i]["Game ID"]), String(privateDataList[i]["Game Name"])])
        for (var j=0; j < arr.length; j++) {
          //console.log(arr[j][0], " === ", gameDetails[0][0])
          if(arr[j][0] == gameDetails[0][0]) {
            arr.splice(j, 1);
          }
        }
      }
      return arr;
    }


    function filterOwnGames(data, basicData) {
      var ownGames = []
      for (var i=0; i < data.length; i++) {
        var objectid = data[i]['@attributes']['objectid'];
        // New change [Save only the game own]
        var isOwn = basicData[objectid].status['@attributes']['own']
        if(isOwn == 0) {
        } else {
          ownGames.push(data[i]) 
        }
      }
      
      return ownGames;
      //console.log(ownGames, " OWN ONLY ")
    }

    function filterOwnGamesBasicData(data, basicData) {
      var ownGamesBasicData = []
      for (var i=0; i < data.length; i++) {
        var objectid = data[i]['@attributes']['objectid'];
        // New change [Save only the game own]
        var isOwn = basicData[objectid].status['@attributes']['own']
        if(isOwn == 0) {
        } else {
          ownGamesBasicData[objectid] = (basicData[objectid]) 
        }
      }
      return ownGamesBasicData;
    }


    function batchUpdateGameList(data) {
      //console.log("DATA - ", data.length)
      gameMsg = ""
      var gameObj = []
      for (var i=0; i < data.length; i++) {
        var eachGame = []
        
        var objectid = data[i]['@attributes']['objectid'];
        var gameTitle = boardgameBasicData[objectid]['name']

        // New change [Save only the game own]
        var isOwn = boardgameBasicData[objectid].status['@attributes']['own']
        //console.log(isOwn, " isOwn")
        if(isOwn > 0) {
          eachGame.push(String(objectid), String(gameTitle).replace(/[\u{0080}-\u{10FFFF}]/gu,""))
          gameObj.push(eachGame)
        }
      }
      
      //console.log(gameObj.length, " isGameOwn ", privateDataList.length)
      // For testing only
      //privateDataList.splice(0)

      //console.log(privateDataList.length, '<', gameObj.length, " --- ")

      if(privateDataList.length < gameObj.length) {
        //console.log(removeItemOnce(gameObj, privateDataList))
        var updateSheetList = removeItemOnce(gameObj, privateDataList)
        //console.log(updateSheetList, " ----- ", sheet_Id)
        var dataList = JSON.stringify(updateSheetList);
        // Call PHP/PYTHON
        $.ajax({ 
          //url: apiurl, 
          url: 'insert_data.php', 
          type:'POST', 
          data:{'sheetId' : sheet_Id, 'sheet' : sheet_Name, 'gamesData' : dataList}, 
          /* data:{'sheetId' : sheet_Id, 'sheet' : 'Games_test', 'gamesData' : dataList},  */
          cache: false, 
          success: function (response) {
            //console.log(response)
            //return 'Game Updated'
            //console.log(gameMsg, " >>>>>")
            //return gameMsg;
            gameMsg = 'Games List Saved.'
          }
        })
        
      } else {
        //console.log("Sheet already updated...")
        //return gameMsg;
        gameMsg = 'Sheet Already Updated'
      }
      //console.log(strValue, " >>>>>> ")
    }
     //////////////////////////////////////////////////////////////////////////////////////////////////
    function hideloader() {
      /* $('.loader-spinner').addClass('d-none'); */
      $('.loader-spinner-text').addClass('d-none');
    }
     //////////////////////////////////////////////////////////////////////////////////////////////////
    function showloader() {
      /* $('.loader-spinner').removeClass('d-none'); */
      $('.loader-spinner-text').removeClass('d-none');
    }
     //////////////////////////////////////////////////////////////////////////////////////////////////
    function renderPaginationHTML() {
      
      const detectDeviceType = () =>
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        ? 'Mobile'
        : 'Desktop';
      //console.log(detectDeviceType()); 
      deviceType = detectDeviceType()


      let per_page_items = 10;
      let totalPages = Math.floor( (boardgames.length / per_page_items));
      let extraPosts = (boardgames.length % per_page_items);
      totalPages = (extraPosts > 0 ) ? totalPages + 1 : totalPages;
      var paginationHTML = '';
      var startIndex = 0;
      var endIndex = totalPages > 5 ? 5 : totalPages;
      var currentPageNumber = (paged + 1);
      
      //console.log("currentPageNumber ", currentPageNumber);

  
      
      if(totalPages > 5) {
        if(currentPageNumber >= (totalPages-3)){
          var startIndex = totalPages-5;
          var endIndex = totalPages;
        } else if (currentPageNumber > 2) {
          startIndex = (currentPageNumber - 3);
          endIndex = (currentPageNumber + 2);
        }
      } else {
        endIndex = totalPages
      }

      // console.log("startIndex ", startIndex);
      // console.log("endIndex ", endIndex);

      for (loop = startIndex; loop < endIndex; loop++) {
        let active = (loop == paged) ? 'active' : '';
        if (paginationHTML == "") { paginationHTML = ' <span class="line"></span> '; }
        paginationHTML += "<a href='javascript:;' class='page-number " + active + "' data-paged='" + loop + "'> " + (loop + 1) + " </a> <span class='line'></span> ";
      }
      if(paged == (totalPages-1) ){
        $(".page-next").addClass('disabled-link');
      }else{
        $(".page-next").removeClass('disabled-link');
      }
      if(paged == 0 ){
        $(".page-pre").addClass('disabled-link');
      }else{
        $(".page-pre").removeClass('disabled-link');
      }
      if(deviceType == "Desktop") {
        $('.pagination-pages').html(paginationHTML);
      } else {
        paginationHTML = '<span class="line"></span>'
        /* paginationHTML += "<a class='page-number " + ((paged+1) + "/" + totalPages) +"'> " + ((paged+1) + "/" + totalPages)  + "</a><span class='line'></span>" */
        let active = 'active';
        paginationHTML += "<a class='page-number " + (active) +"'>" + (paged+1) + "</a>" + ("/" + totalPages) + "<span class='line'></span>"
        $('.pagination-pages').html(paginationHTML);
      }
      $('.header-row-section').removeClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function renderRealetedBoardGameSlider() {
      $('.related_games').html();
      var suggestedGamesHTML = '';
      var startIndex = Math.floor(Math.random() * boardgames.length);

      if(boardgames.length >= 10) {
        if(startIndex > (boardgames.length-10) ) {startIndex = boardgames.length-10;} 
      } else {
        startIndex = 0
      }
      //console.log(startIndex, " start Index")

      for (var loop = 0; loop < 10; loop++) {
        if (boardgames[startIndex]) {
          data = boardgames[startIndex];

          /* console.log(startIndex, '--', data);

          if(data.length > 1) {
            document.getElementById('youlikeTxt').innerHTML = ''
          } else {
            document.getElementById('youlikeTxt').innerHTML = 'You might also like'
          } */

          var objectid = data['@attributes']['objectid'];
          var isOwn = boardgameBasicData[objectid].status['@attributes']['own']
          var imagePath = data.image == undefined ? 'images/earshot-games_default.png' : data.image
          //if(isOwn == 0) {return}
          //console.log(isOwn, " >>>>> ", objectid)
          if(isOwn > 0) {
            suggestedGamesHTML += `<div class="slider_item"><div class="image-outer"><a href="javascript:;" class="view-details" data-objectid="${objectid}"><img data-lazy="${imagePath/* data.image */}" class="img-fluid" id="sliderImg"></a></div><a href="javascript:;" class="text-primary text-uppercase font-DINCondensed text-truncate m-0 p-2 text-center overflow-hidden text-nowrap slide_item_title view-details" data-objectid="${objectid}">${getBoardGameName(data)}</a></div>`;
          }
          startIndex += 1;
        }
      }
      $('.related_games').html(suggestedGamesHTML);
      initiateRelatedGamesSlider();
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function viewSearchPanel() {
      //$("#searchPanel").slideToggle("fast");

      // Enable Filter CheckXoes
      EnableFilterCheckBox()

      

      $('#myModal2').modal('show');

      // Make the button active
      if(MODE_TYPE == "list") {
        /* document.getElementById("btnFindList").style.backgroundColor = "#3874b5"
        document.getElementById("btnFindList").style.color = "#ffffff"
        document.getElementById("btnFindList").style.color = "#3874b5" */
        document.getElementById("btnFindList").classList.remove("btn-outline-primary");
        document.getElementById("btnFindList").classList.add("btn-outline-primary-active");

      } else {

        /* if(document.getElementById("btnFindSlide").style.opacity == 0) {return} */
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
        document.getElementById("btnFindSlide").classList.add("btn-outline-primary-active");
        
        // on Filter button click
        /* $('.slideshow-slider').slick('slickPause');
        slideStatus = "active" */
      }

      

      // Set the default values
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked;
      if(cBoxPlayerStat == true) {
        document.getElementById('playerTotal').innerHTML = playerCount
      } else {
        document.getElementById('playerTotal').innerHTML = ""
      }

      var cBoxTimeStat = document.getElementById("cBoxTime").checked;
      if(cBoxTimeStat == true) {
        document.getElementById("timeTotal").innerHTML = timeCount
      } else {
        document.getElementById("timeTotal").innerHTML = ""
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function onIncreasePlayers() {
      playerCount++
      // Set the default values
      document.getElementById('playerTotal').innerHTML = playerCount
      //filterGamesOnPlayerTime()
    }
    function onDecreasePlayers() {
      if(playerCount > 1) {
        playerCount--
      }
      // Set the default values
      document.getElementById('playerTotal').innerHTML = playerCount
      //filterGamesOnPlayerTime()
    }
    // Time
    function onIncreaseTime() {
      timeCount += 15
      // Set the default values
      document.getElementById("timeTotal").innerHTML = timeCount
      //filterGamesOnPlayerTime()
    }
    function onDecreaseTime() {
      if(timeCount > 15) {
        timeCount -= 15
      }
      // Set the default values
      document.getElementById("timeTotal").innerHTML = timeCount
      //filterGamesOnPlayerTime()
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function filterGamesOnPlayerTime() {
      //console.log(playerCount, " ---- ", timeCount)

      // Show search filter
      document.getElementById("searchFilter").style.display = "block"
      // Disable view details page from slideshow
      //clickedSlideID = -1


      //return;

      var filterTimeout = setTimeout(function() {

        $(".cardList").html("")
        $(".cardList").scrollTop(0)

        //setTimeout(function() {
        //if(MODE_TYPE == "list") {
          RenderListView()
        //} else if(MODE_TYPE == "slideshow") {
          setTimeout(function() {
            RenderSlideshowView()
          }, 250 )
        //}
        //}, 250)
      }, 250)
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    /* function RemoveAllQRCodeFronSlider() {
      for (var i=0; i<QRCodeList.length; i++) {
        if(document.getElementById(`slide_${QRCodeList[i]}_barcode`).innerHTML != '') {
          document.getElementById(`slide_${QRCodeList[i]}_barcode`).innerHTML = ''
        }
      }
    } */
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function RenderSlideshowView() {
      if($('.slideshow-slider').html() != ''){
        $('.slideshow-slider').slick('unslick').html('');
      }
      //////////////////////////////////////////////////////////////////////////////

      //RemoveAllQRCodeFronSlider()

      //////////////////////////////////////////////////////////////////////////////



      //console.log("Game Render")

      // New Check
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked

      //////////////////////////////////////////////////////////////////////////////
      
      // Show games only whose showcase is true in spreadsheet
      // Filter the games
      var filterGames = []
      //var isShowCase = false
      QRCodeList.splice(0)
      GameRating.splice(0)


      //console.log(boardgames, " ----- ")

      $.each(boardgames, function(index, data) {
      /* $.each(filterBoardGames, function(index, data) { */
      //$.each(allBoardGames[0], function(index, data) {
        var objectid = data['@attributes']['objectid'];

        var isOwn = boardgameBasicData[objectid].status['@attributes']['own']

        //console.log(isOwn, " -- ", index, " - ", boardgameBasicData[objectid].name)

        //if(isOwn == 0) {return}
        
        if(privateDataList.length == 0) {
          if(isOwn > 0) {
            filterGames.push(data)
          }
        } else {
          if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false) {
            $.each(privateDataList, function (index, row) {
              if (row["Game ID"] == objectid && row["Showcase"] == "TRUE") {
                if(isOwn > 0) {
                  //isShowCase = true
                  filterGames.push(data)
                }
              }
            });
            /* if(isShowCase == false) {
              filterGames.push(data)
            } */
          } else {
            /* $.each(privateDataList, function (index, row) {
              if (row["Game ID"] == objectid && row["Showcase"] == "TRUE") {
                if(isOwn > 0) {
                  filterGames.push(data)
                }
              } 
            }) */
            if(isOwn > 0) {
              filterGames.push(data)
            }
          }
        }
      });

      //console.log(filterGames.length, " LL")

      if(filterGames.length == 0) {
        if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false) {
          filterGames = boardgames
        }
      }
      //////////////////////////////////////////////////////////////////////////////
      //console.log(filterGames, " ---- ")

      // Detext Device
      /* const detectDeviceType = () =>
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        ? 'iPad'
        : 'Desktop';

        console.log(detectDeviceType(), " >>>>") */
      var deviceType = navigator.userAgent.split("(")[1].split(";")[0].toLowerCase()
      var deviceTypeDescChars = 0
      if(deviceType == 'ipad' || deviceType == 'tablet') {
        deviceTypeDescChars = 1000
      } else if(deviceType == 'iphone' || deviceType == 'android' || deviceType == 'linux') {
        deviceTypeDescChars = 150
      } else {
        deviceTypeDescChars = 750
      }

      //////////////////////////////////////////////////////////////////////////////
      if(filterGames.length > 0) {
        //$.each(boardgames, function(index, data) {
        /* let slickChunks = filterGames.slice(0, 10); */
        $.each(filterGames, function(index, data) {
        /* $.each(slickChunks, function(index, data) { */
          var objectid = data['@attributes']['objectid'];

          var description = data.description;
          if (description.length > deviceTypeDescChars) {
            textContent = description.substr(0,deviceTypeDescChars) + '...';
          } else {
            textContent = description
          }

          var gameRatingAverage = getBoardGameRatingAverage(data);

          // Prev Logic
          /* var ratingInPercentage = ((gameRatingAverage - 5)*5/2) * 14; */
          // New Logic
          var ratingInPercentage = ((gameRatingAverage - 5)*5/3) * 20;
          
          if(ratingInPercentage < 0) {
            ratingInPercentage = 0
          } else if(ratingInPercentage > 100) {
            ratingInPercentage = 100
          }
          /////////////////////////////////////////////////////////////////////////////////////
          var playerStats = (data.minplayers == data.maxplayers) ? data.maxplayers : data.minplayers+"-"+data.maxplayers;
          var playtimeStats = (data.minplaytime == data.maxplaytime) ? data.maxplaytime : data.minplaytime+"-"+data.maxplaytime;
          var imagePath = data.image == undefined ? 'images/earshot-games_default.png' : data.image

          var boardGameDesigner = getBoardGameDesigner(data);
          var boardGameDesignerTitle = boardGameDesigner == undefined ? '' : boardGameDesigner

          $('.slideshow-slider').append(`<div class="slider_item"><div class="slider_item_wrapper"><div class="image-outer"><a href="javascript:;" class="games-slider-item view-details" data-sourceType="slideshow" data-objectid="${objectid}"><img data-lazy="${imagePath/* data.image */}" class="img-fluid" id="sliderImg" data-BoardgamesId="${objectid}"></div><div onClick="showFind(${objectid})" class="slideshow_item_content"><div style="position: relative;width: 100%;text-align: right;"><button class="btn btn-outline-primary text-uppercase" style="position: relative; margin-top:5px;">View</button></diV></a><h4>${getBoardGameName(data)}</h4><a href="javascript:;" class="view-details" data-objectid="${objectid}" data-sourceType="slideshow">${boardGameDesignerTitle/* getBoardGameDesigner(data) */}</a>
          <p>${textContent}</p>
        </div>
          <!--div class="d-flex justify-space-between slideshow_bottom"-->
          <!--div class="d-none justify-content-between slideshow_bottom">
            <div class="bottom_left_side">
              <div class="text-right" data-objectid="${objectid}"><div onClick="showFind(${objectid})" class="metaGroup"><span><img src="./images/earshot-games_player.png" width="35px">${playerStats}</span><span><img src="./images/earshot-games_time.png" width="35px">${playtimeStats}</span><span><img src="./images/earshot-games_age.png"  width="35px">${data.age}+</span>
                ${data.boardgamemechanic != undefined && data.boardgamemechanic.includes("Cooperative Game") == true
                  ?
                  `<span><img src="./images/earshot-games_coop.png?version=1.1.1" width="35px"></span>`
                  : ``}
              </div></div--> 
              <!--div class="ratingWrapper"-->
              <!--div id="${objectid}_slide" class="ratingWrapper" onClick='toggleRating(event, ${ratingInPercentage}, ${gameRatingAverage})'>
                <div id='star_slide' class="ratingStar" style="height:100%; width: ${ratingInPercentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div> 
                </div>           
            </div>  
            <div onClick="showFind(${objectid})" class="barcode" style="position:relative; width:80px; height:80px">	
              <div class="qrcode" id="slide_${objectid}_barcode"></div>
            </div-->      
          </div>
          </div>

          </div>
          `);
          QRCodeList.push(objectid)
          GameRating.push(data)
          //renderQRCode(`slide_${objectid}_barcode`, objectid);
        });
      } else {
        //clickedSlideID = -1
        $(".slideshow-slider").html('<div class="text-center mt-4 pt-4"><h2 class="text-center" style="color:red;">NO GAME FOUND BASED ON FILTER CRITERIA.</h2></div>')
      }
      ////////////////////////////////////////////
      //console.log(QRCodeList.length, " LLL IN SEARCH")

      if(QRCodeList.length == 1) {
        //renderSlideQRCode(`slide_${QRCodeList[0]}_barcode`, QRCodeList[0])
        updateGameInfo(GameRating[0], 0)
      } else if(QRCodeList.length > 1) {
        //renderSlideQRCode(`slide_${QRCodeList[0]}_barcode`, QRCodeList[0])
        //renderSlideQRCode(`slide_${QRCodeList[QRCodeList.length-1]}_barcode`, QRCodeList[QRCodeList.length-1]);
        updateGameInfo(GameRating[0], 0)
      }
      
      ////////////////////////////////////////////
      initiateSlideShowSlider();
      ////////////////////////////////////////////
      // Hide search filter loader
      // Hide search filter
      document.getElementById("searchFilter").style.display = "none"
      ////////////////////////////////////////////

      // Hide the box

      $('#myModal2').modal('hide');

      ///////////////////////////////////////////////////////////////////////////////
      // Change view
      // Go to list view
      if(MODE_TYPE == 'slideshow') {
        //console.log('move to list view')
        toggleSlideShowView()
      } else {
        //console.log('stay in list view')
      }
      ///////////////////////////////////////////////////////////////////////////////


      // Make the button active
      /* if(MODE_TYPE == "list") {
        document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindList").classList.add("btn-outline-primary");
      } else {
        document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
        document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
      } */

      // Check if filter applied
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
          //if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindList").classList.add("btn-outline-primary");
          //} else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
          //}
        } else {
          //if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindList").classList.remove("btn-outline-primary");
            document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
          //} else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
          //}
        }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function combinations(str) {
        var fn = function(active, rest, a) {
            if (!active && !rest)
                return;
            if (!rest) {
                a.push(active);
            } else {
                fn(active + rest[0], rest.slice(1), a);
                fn(active, rest.slice(1), a);
            }
            return a;
        }
        return fn("", str, []);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function RenderListView() {
      //boardgames = shuffleArray(boardgames);
      //console.log(boardgames);
      //boardgameBasicData = boardgames.boardgameBasicData;

      //////////////////////////////////////////////////////
      // Player And Time
      // Filter modified based on the items active
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked



      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked


      //console.log(document.getElementById("cBoxM"), " -- " , document.getElementById("cBoxM").checked)

      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked

      var cBox123Stat = document.getElementById("cBox123").checked
      

      /* var cBoxAcStat = document.getElementById("cBoxAc").checked
      var cBoxWpStat = document.getElementById("cBoxWp").checked
      var cBoxRbStat = document.getElementById("cBoxRb").checked */


      /* var cBoxDbStat = document.getElementById("cBoxDb").checked
      var cBoxStStat = document.getElementById("cBoxSt").checked
      var cBoxDedStat = document.getElementById("cBoxDed").checked */
       //////////////////////////////////////////////////////

        /* var str = "cawrdse" */
        /* var str = "gspc"
        console.log(combinations(str), " VALUES") */


        /* var str = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
        console.log(combinations(str), " VALUES") */
        
      ///////////////////////////////////////////////////////////////////////////////////////////////////
        // New Values
        /* g = strategic
        s = storytelling
        p = party
        c = coop
        'gspc', 'gsp', 'gsc', 'gs', 'gpc', 'gp', 'gc', 'g', 'spc', 'sp', 'sc', 's', 'pc', 'p', 'c' 
        */
      ///////////////////////////////////////////////////////////////////////////////////////////////////

      var filterBoardGames = []
      //filterBoardGames = []
      //console.log(allBoardGames[0], " all games ")
      $.each(allBoardGames[0], function(index, data) {
        var objectid = data['@attributes']['objectid'];

        var isOwn = boardgameBasicData[objectid].status['@attributes']['own']
        if(isOwn == 0) {return}


        var playerStats = (data.minplayers == data.maxplayers) ? data.maxplayers : data.minplayers
        var playerMin = data.minplayers
        var playerMax = data.maxplayers
        var playtimeStats = (data.minplaytime == data.maxplaytime) ? data.maxplaytime : data.minplaytime
        var timeMin = data.minplaytime
        var timeMax = data.maxplaytime
        //console.log(playerCount, " <= ", playerMin, " && ", playerMax)

        // Mechanics array
        //var getAllMechanics = data.boardgamemechanic;

       /*  console.log(data.boardgamemechanic, " all mechanics")
        console.log(data.boardgamecategory, " all category") */

        //////////////////////////////////////////////////////////////////////////////////////////////
        /* // Player And Time
        // Filter modified based on the items active
        var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
        var cBoxTimeStat = document.getElementById("cBoxTime").checked */
        //////////////////////////////////////////////////////////////////////////////////////////////
        /* c = cBoxCoStat
        a = cBoxAcStat
        w = cBoxWpStat
        r = cBoxRbStat
        d = cBoxDbStat
        s = cBoxStStat
        e = cBoxDedStat */
        //////////////////////////////////////////////////////////////////////////////////////////////
        // Mechanics
        /* var cBoxCoStat = document.getElementById("cBoxCo").checked
        var cBoxAcStat = document.getElementById("cBoxAc").checked
        var cBoxWpStat = document.getElementById("cBoxWp").checked
        var cBoxRbStat = document.getElementById("cBoxRb").checked
        var cBoxDbStat = document.getElementById("cBoxDb").checked
        var cBoxStStat = document.getElementById("cBoxSt").checked
        var cBoxDedStat = document.getElementById("cBoxDed").checked

        var str = "co-" + cBoxCoStat + "ac-" + cBoxAcStat

        console.log(combinations(str), " VALUES")
         */
        /////////////////////////////////////////////////////////////////////////////////////////////
        //////////////////////////////////////////////////////////////////////////////////////////////
        // Previous Logic
        /* if(cBoxPlayerStat == true && cBoxTimeStat == true) {
          if(playerCount <= playerMax && timeCount <= timeMax) {
            filterBoardGames.push(data)
          }
        } else if(cBoxPlayerStat == true && cBoxTimeStat == false) {
          if(playerCount <= playerMax) {
            filterBoardGames.push(data)
          }
        } else if(cBoxPlayerStat == false && cBoxTimeStat == true) {
          if(timeCount <= timeMax) {
            filterBoardGames.push(data)
          }
        } else if(cBoxPlayerStat == false && cBoxTimeStat == false) {
          filterBoardGames.push(data)
        } */
        //////////////////////////////////////////////////////////////////////////////////////////////
        // Comment after function change
        //return;
        //////////////////////////////////////////////////////////////////////////////////////////////

        // New Logic
        if(cBoxPlayerStat == true && cBoxTimeStat == true) {
          /* console.log(playerCount, " P ", playerMin, " PM ", playerMax)
          console.log(timeCount, " T ", timeMin, " TM ", timeMax) */
          if(timeMin == timeMax) {
            var modValue = (timeMin % 15)
            if(modValue != 0) {
              //timeMin = timeMax - modValue
              //timeMax = timeMin + 1
            }
          }
          /* if((playerCount >= playerMin && playerCount <= playerMax) && (timeCount >= timeMin && timeCount <= timeMax)) { */
          
          /* if((playerCount >= playerMin && playerCount <= playerMax) && (timeCount >= timeMin && timeCount <= timeMax)) { */
          if((playerCount >= playerMin && playerCount <= playerMax) && (timeCount >= timeMin && timeCount <= timeMax)) {
          
            //console.log("ENTER HERER - ", timeCount, " >= ", timeMin)

          /* var timeCondition = timeMin == timeMax ? (timeCount <= timeMax) : (timeCount >= timeMin && timeCount <= timeMax)
          if((playerCount >= playerMin && playerCount <= playerMax) && (timeCount <= timeMax)) { */
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////
            ///////////////////////
            /* g = strategic
              s = storytelling
              p = party
              c = coop
              'gspc', 'gsp', 'gsc', 'gs', 'gpc', 'gp', 'gc', 'g', 'spc', 'sp', 'sc', 's', 'pc', 'p', 'c' 
              */
            ///////////////////////
            ///////////////////////
            ///////////////////////
            if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat && cBoxCoStat)/* "gspc" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat)/* "gsp" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxCoStat) /*'gsc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat) /*'gs'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat && cBoxCoStat) /*'gpc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat)/*'gp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxCoStat)/*'gc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat) /*'g'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat && cBoxCoStat) /*'spc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat)/*'sp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxCoStat)/*'sc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat) /*'s'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat && cBoxCoStat)/*pc*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat)/*p*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxCoStat)/*c*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true)) {
                filterBoardGames.push(data)
              }
            } else {
              filterBoardGames.push(data)
            }
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////

          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            
          } 


        } else if(cBoxPlayerStat == true && cBoxTimeStat == false) {
          if(playerCount >= playerMin && playerCount <= playerMax) {
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat && cBoxCoStat)/* "gspc" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat)/* "gsp" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxCoStat) /*'gsc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat) /*'gs'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat && cBoxCoStat) /*'gpc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat)/*'gp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxCoStat)/*'gc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat) /*'g'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat && cBoxCoStat) /*'spc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat)/*'sp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxCoStat)/*'sc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat) /*'s'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat && cBoxCoStat)/*pc*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat)/*p*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxCoStat)/*c*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true)) {
                filterBoardGames.push(data)
              }
            } else {
              filterBoardGames.push(data)
            }
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          }

        } else if(cBoxPlayerStat == false && cBoxTimeStat == true) {
          if(timeMin == timeMax) {
            var modValue = (timeMin % 15)
            if(modValue != 0) {
              //timeMin = timeMax - modValue
            }
          }
          /* if(timeCount >= timeMin && timeCount <= timeMax) { */
            if(timeCount >= timeMin && timeCount <= timeMax) {
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat && cBoxCoStat)/* "gspc" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat)/* "gsp" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxCoStat) /*'gsc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat) /*'gs'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat && cBoxCoStat) /*'gpc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat)/*'gp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxCoStat)/*'gc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat) /*'g'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat && cBoxCoStat) /*'spc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat)/*'sp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxCoStat)/*'sc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat) /*'s'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat && cBoxCoStat)/*pc*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat)/*p*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxCoStat)/*c*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true)) {
                filterBoardGames.push(data)
              }
            } else {
              filterBoardGames.push(data)
            }
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


          }

        } else if(cBoxPlayerStat == false && cBoxTimeStat == false) {

          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////
            ///////////////////////
            ///////////////////////
            if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat && cBoxCoStat)/* "gspc" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxPartyStat)/* "gsp" */ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat && cBoxCoStat) /*'gsc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxStoryStat) /*'gs'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat && cBoxCoStat) /*'gpc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxPartyStat)/*'gp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat && cBoxCoStat)/*'gc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStategyStat) /*'g'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Area Majority / Influence") == true || data.boardgamemechanic.includes("Worker Placement") == true || data.boardgamemechanic.includes("Network and Route Building") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat && cBoxCoStat) /*'spc'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxPartyStat)/*'sp'*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat && cBoxCoStat)/*'sc'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxStoryStat) /*'s'*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Storytelling") == true || data.boardgamemechanic.includes("Role Playing") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat && cBoxCoStat)/*pc*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true) && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxPartyStat)/*p*/ {
              if(data.boardgamemechanic != undefined && data.boardgamecategory != undefined && (data.boardgamecategory.includes("Party Game") == true)) {
                filterBoardGames.push(data)
              }
            } else if(cBoxCoStat)/*c*/ {
              if(data.boardgamemechanic != undefined && (data.boardgamemechanic.includes("Cooperative Game") == true)) {
                filterBoardGames.push(data)
              }
            } else {

              /* // New filter logic letters
              if(cBoxAStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "A") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxBStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "B") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxCStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "C") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxDStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "D") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxEStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "E") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxFStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "F") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxGStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "G") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxHStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "H") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxIStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "I") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxJStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "J") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxKStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "K") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxLStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "L") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxMStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "M") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxNStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "N") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxOStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "O") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxPStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "P") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxQStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "Q") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxRStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "R") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxSStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "S") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxTStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "T") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxUStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "U") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxVStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "V") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxWStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "W") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxXStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "X") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxYStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "Y") {
                  filterBoardGames.push(data)
                }
              }
              if(cBoxZStat) {
                var gameName = getBoardGameName(data).substr(0,1)
                if(String(gameName).toUpperCase() == "Z") {
                  filterBoardGames.push(data)
                }
              }

              if(cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false) {
                filterBoardGames.push(data)
              } */
              filterBoardGames.push(data)
            }
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
            ///////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
          ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        }

        /////////////////////////////////////////////////////////////////////////////////////////////
        // New Logic
        

        //////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      });


      var filterBoardGamesLetters = []
      //filterBoardGames = []
      //console.log(allBoardGames[0], " all games ")

      $.each(filterBoardGames, function(index, data) {
        if(cBoxAStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "A") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxBStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "B") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxCStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "C") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxDStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "D") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxEStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "E") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxFStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "F") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxGStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "G") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxHStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "H") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxIStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "I") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxJStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "J") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxKStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "K") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxLStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "L") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxMStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "M") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxNStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "N") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxOStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "O") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxPStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "P") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxQStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "Q") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxRStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "R") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxSStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "S") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxTStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "T") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxUStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "U") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxVStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "V") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxWStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "W") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxXStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "X") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxYStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "Y") {
            filterBoardGamesLetters.push(data)
          }
        }
        if(cBoxZStat) {
          var gameName = getBoardGameName(data).substr(0,1)
          if(String(gameName).toUpperCase() == "Z") {
            filterBoardGamesLetters.push(data)
          }
        }

        // For games starts with Special chars
        if(cBox123Stat) {
          var gameName = getBoardGameName(data).substr(0,1)
          //console.log(gameName, " game name")
          if(String(gameName).toUpperCase() != "A" && String(gameName).toUpperCase() != "B" && String(gameName).toUpperCase() != "C" && String(gameName).toUpperCase() != "D" && String(gameName).toUpperCase() != "E" && String(gameName).toUpperCase() != "F" && String(gameName).toUpperCase() != "G" && String(gameName).toUpperCase() != "H" && String(gameName).toUpperCase() != "I" && String(gameName).toUpperCase() != "J" && String(gameName).toUpperCase() != "K" && String(gameName).toUpperCase() != "L" && String(gameName).toUpperCase() != "M" && String(gameName).toUpperCase() != "N" && String(gameName).toUpperCase() != "O" && String(gameName).toUpperCase() != "P" && String(gameName).toUpperCase() != "Q" && String(gameName).toUpperCase() != "R" && String(gameName).toUpperCase() != "S" && String(gameName).toUpperCase() != "T" && String(gameName).toUpperCase() != "U" && String(gameName).toUpperCase() != "V" && String(gameName).toUpperCase() != "W" && String(gameName).toUpperCase() != "X" && String(gameName).toUpperCase() != "Y" && String(gameName).toUpperCase() != "Z") {
            filterBoardGamesLetters.push(data)
          }
        }

        if(cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
          filterBoardGamesLetters.push(data)
        }
      })

      //console.log(filterBoardGames, " name")
      ///////////////////////////////////////////////////////
      
     /*  if(filterBoardGames.length > 0) { */
      if(filterBoardGamesLetters.length > 0) {
        // render pagination
        /* boardgames = filterBoardGames */
        boardgames = filterBoardGamesLetters

        // Sort games based on spreadsheet order
        boardgames = shuffleGameBasedOnPrivateDataList()

        //console.log(filterBoardGamesLetters.length, " ---- ", boardgames.length)
        //boardgames = shuffleArray(boardgames);
        //boardgameBasicData = boardgames.boardgameBasicData;
        //console.log(boardgames.length)
        paged = 0

        /* document.getElementById("prevLink").innerHTML = "Prev &nbsp;"
        document.getElementById("nextLink").innerHTML = "&nbsp; NEXT" */
        document.getElementById("prevLink").innerHTML = "Prev"
        document.getElementById("nextLink").innerHTML = "NEXT"

        renderPaginationHTML();
        let boardgamesChunks = boardgames.slice(0, 10);
        $.each(boardgamesChunks, function (index, data) {
          renderListViewItem(data);
        });
        //boardgames.splice(0)
      } else {
        //boardgames = filterBoardGames
        //console.log("AASASASAS")

        boardgames = filterBoardGamesLetters
        if(boardgames.length == 0) {
          paged = -1
        }
        document.getElementById("prevLink").innerHTML = ""
        document.getElementById("nextLink").innerHTML = ""
        $('.pagination-pages').html("");
        $(".cardList").html('<div class="text-center mt-4 pt-4"><h2 class="text-center" style="color:red;">NO GAME FOUND BASED ON FILTER CRITERIA.</h2></div>')
      }

      // Check if filter applied
      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
          //if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
            document.getElementById("btnFindList").classList.add("btn-outline-primary");
          //} else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
          //}
        } else {
          //if(MODE_TYPE == 'list') {
            document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindList").classList.remove("btn-outline-primary");
            document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
          //} else {
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
            document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
            document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
          //}
        }



    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function viewSlideShowHTML() {

      // Hide buttons
     /*  document.getElementById("btnFindList").style.display = 'none'
      document.getElementById("btnFindSlide").style.display = 'none' */


      slides_loaded = false
      $('#myModal2').modal('hide');

      MODE_TYPE = 'slideshow'

      if($('.slideshow-slider').html() != ''){
        $('.slideshow-slider').slick('unslick').html('');
      }
      /* style="position: absolute;
      left: 10em;
            top: 11.5em;
            display: block; width:100%" */

      $('.slideshow-slider').append(`<div><div id='loadingSlides'>
              <!--img src="./css/Reload-1s-200px.gif" width="40" height="40" class="image_id text-center" alt="" /-->
              <img src="zap_icons_game.png" width="70" height="70" class="image_id text-center" alt="" />
              <div id='slideTxt' style="position:absolute; width:100%; left:0em; top:3em; text-align:center; color:#3874b5; font-size:1.5em">LOADING <br>SLIDES</div>
            </div>
            <div>
        `);

      // Manual SlideShow View
      $("body").addClass("AnimateView");
      $(".list-slideshow-section").removeClass("d-none");
      $(".list-view-section").addClass("d-none");
      $(".detail-view-section").addClass("d-none");

      initiateSlideShowSlider();

      setTimeout(function() {
        viewSlideShowHTML_LAZY()
      }, 100)


      // set top button
      /* var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
        if(MODE_TYPE == 'list') {
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
          document.getElementById("btnFindList").classList.add("btn-outline-primary");
        } else {
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
          document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
        }
      } else {
        if(MODE_TYPE == 'list') {
          document.getElementById("btnFindList").classList.remove("btn-outline-primary");
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
        } else {
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
        }
      } */


    }


    function viewSlideShowHTML_LAZY() {
      // Hide the Filter modal if open

      //console.log("--LAZY--")

      $('#myModal2').modal('hide');

      MODE_TYPE = 'slideshow'

      if($('.slideshow-slider').html() != ''){
        $('.slideshow-slider').slick('unslick').html('');
      }

      //////////////////////////////////////////////////////////////////////////////
      // New Check
      var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      //////////////////////////////////////////////////////////////////////////////

      // For Title branding
      var title_branding = ''
      ////////////////////////////////////////////////////////////////////////////
      /* $.each(settingDataList, function (index, row) {
        if(row["Profile"] == "BGG") {
          title_branding = row["Title"]
          if(title_branding != undefined) {
            document.getElementById('sliderTitle').innerHTML = title_branding
          }
        }
      }) */
      $.each(settingDataList, function (index, row) {
        if(row["Name"] == "Title") {
          title_branding = row["Value"]
          if(title_branding != undefined) {
            //console.log(title_branding, " >>> ", title_branding.toString().replace(/"/g, "").replace(/dqo/g, '"'))
            document.getElementById('sliderTitle').innerHTML = title_branding.toString().replace(/"/g, "").replace(/dqo/g, '"')
          }
        }
      })
     
      //////////////////////////////////////////////////////////////////////////////

      //console.log(privateDataList, " --- ", privateDataList.length)
      // Show games only whose showcase is true in spreadsheet
      // Filter the games
      var filterGames = []

      QRCodeList.splice(0)
      GameRating.splice(0)
      
      //var isShowCase = false
      //console.log("START - ", isShowCase)
      $.each(boardgames, function(index, data) {
      /* $.each(filterBoardGames, function(index, data) { */
      //$.each(allBoardGames[0], function(index, data) {
        var objectid = data['@attributes']['objectid'];

        //console.log(boardgameBasicData[objectid].status['@attributes']['own'], " game list")
        var isOwn = boardgameBasicData[objectid].status['@attributes']['own']
        if(privateDataList.length == 0) {
          if(isOwn > 0) {
            filterGames.push(data)
          }
        } else {
          if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false) {
           
            $.each(privateDataList, function (index, row) {
              if (row["Game ID"] == objectid && row["Showcase"] == "TRUE") {
                //isShowCase = true
                if(isOwn > 0) {
                  filterGames.push(data)
                }
              } 
              //console.log(isShowCase, " ---- ")
            });

            //console.log(isShowCase, " ----- ")

            /* if(isShowCase == false) {
              if(isOwn > 0) {
                //if(index < 100) {
                  filterGames.push(data)
                //}
              }
            } */

          } else {
            /* if(isOwn > 0) {
              filterGames.push(data)
            } */
            /* $.each(privateDataList, function (index, row) {
              if (row["Game ID"] == objectid && row["Showcase"] == "TRUE") { */
                if(isOwn > 0) {
                  filterGames.push(data)
                }
              /* }
            }) */
          }
        }
      });

      //console.log(filterGames.length, " --BE-- ")
      if(filterGames.length == 0) {
        if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false) {
          filterGames = boardgames
        }
      }
      //console.log(filterGames.length, " --AF-- ")

      ////////////////////////////////////////////////////////////////////////////
      /* const detectDeviceType = () =>
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        ? 'iPad'
        : 'Desktop';

      console.log(navigator.userAgent.split("(")[1].split(";")[0], " >>>>") */
      //console.log(navigator.userAgent.split("(")[1].split(";")[0], " >>>>")
      var deviceType = navigator.userAgent.split("(")[1].split(";")[0].toLowerCase()
      var deviceTypeDescChars = 0
      if(deviceType == 'ipad' || deviceType == 'tablet') {
        deviceTypeDescChars = 1000
      } else if(deviceType == 'iphone' || deviceType == 'android' || deviceType == 'linux') {
        deviceTypeDescChars = 150
      } else {
        deviceTypeDescChars = 750
      }

      
      //////////////////////////////////////////////////////////////////////////////
      //console.log(filterGames.length, " filterGames")
      if(filterGames.length > 0) {
        //$.each(boardgames, function(index, data) {
        //let slickChunks = boardgames.slice(0, 10);
        /* let slickChunks = filterGames.slice(0, 10); */
        //var sliderHTML = ''

        let mTimerTimeout = setTimeout(updateTimerTimer, 10)
        function updateTimerTimer() {
          clearTimeout(mTimerTimeout)
          document.getElementById("sliderDate").innerHTML = moment(new Date()).format("hh:mm A")
          mTimerTimeout = setTimeout(updateTimerTimer, (1000))
        } 
        
        $.each(filterGames, function(index, data) {
       /*  $.each(slickChunks, function(index, data) { */
          var objectid = data['@attributes']['objectid'];

          var description = data.description;
          if (description.length > deviceTypeDescChars) {
            textContent = description.substr(0,deviceTypeDescChars) + '...';
          } else {
            textContent = description
          }
          var gameRatingAverage = getBoardGameRatingAverage(data);

          //var ratingInPercentage = ((gameRatingAverage*100)/5);

          /////////////////////////////////////////////////////////////////////////////////////

          //var ratingInPercentage = ((gameRatingAverage - 6)*5/2) * 20;
          // Prev Logic
          /* var ratingInPercentage = ((gameRatingAverage - 5)*5/2) * 14; */
          // New Logic
          var ratingInPercentage = ((gameRatingAverage - 5)*5/3) * 20;

          if(ratingInPercentage < 0) {
            ratingInPercentage = 0
          } else if(ratingInPercentage > 100) {
            ratingInPercentage = 100
          }

          /////////////////////////////////////////////////////////////////////////////////////
          //var nDate = moment(new Date()).format("hh:mm A")
          //document.getElementById('sliderDate').innerHTML = nDate;
            /* let mTimerTimeout = setTimeout(updateTimerTimer, 10)
            function updateTimerTimer() {
              clearTimeout(mTimerTimeout)
              document.getElementById("sliderDate").innerHTML = moment(new Date()).format("hh:mm A")
              mTimerTimeout = setTimeout(updateTimerTimer, (1000))
            } */
          /////////////////////////////////////////////////////////////////////////////////////
          

          var playerStats = (data.minplayers == data.maxplayers) ? data.maxplayers : data.minplayers+"-"+data.maxplayers;
          var playtimeStats = (data.minplaytime == data.maxplaytime) ? data.maxplaytime : data.minplaytime+"-"+data.maxplaytime;

          //console.log(data.image, " ---- IMG PATH")
          /* if(data.image == undefined) {
            console.log("NO PATH ", index)
          } */

          var imagePath = data.image == undefined ? 'images/earshot-games_default.png' : data.image
          var boardGameDesigner = getBoardGameDesigner(data);
          var boardGameDesignerTitle = boardGameDesigner == undefined ? '' : boardGameDesigner

          $('.slideshow-slider').append(`<div class="slider_item"><div class="slider_item_wrapper"><div class="image-outer"><a href="javascript:;" class="games-slider-item view-details" data-sourceType="slideshow" data-objectid="${objectid}"><img data-lazy="${imagePath/* data.image */}" class="img-fluid" id="sliderImg" data-BoardgamesId="${objectid}"></a></div><div onclick="showFind(${objectid});" class="slideshow_item_content"><a href="javascript:;" class="view-details" data-objectid="${objectid}" data-sourceType="slideshow"><div style="position: relative;width: 100%;text-align: right;"><button class="btn btn-outline-primary text-uppercase" style="position: relative; margin-top:5px;">View</button></diV></a><h4>${getBoardGameName(data)}</h4><a href="javascript:;" class="view-details" data-objectid="${objectid}" data-sourceType="slideshow">${boardGameDesignerTitle/* getBoardGameDesigner(data) */}</a>
          <p>${textContent}</p>
        </div>
        <!--div><button class="btn btn-outline-primary text-uppercase" style="position: relative; margin-top:5px;">View</button></div-->
          <!--div class="d-flex justify-space-between slideshow_bottom"-->
          <!--div class="d-none justify-content-between slideshow_bottom">
            <div class="bottom_left_side">
              <div class="text-right" data-objectid="${objectid}"><div onClick="showFind(${objectid})" class="metaGroup"><span><img src="./images/earshot-games_player.png" width="35px">${playerStats}</span><span><img src="./images/earshot-games_time.png"width="35px">${playtimeStats}</span><span><img src="./images/earshot-games_age.png"  width="35px">${data.age}+</span>
                ${data.boardgamemechanic != undefined && data.boardgamemechanic.includes("Cooperative Game") == true
                  ?
                  `<span><img src="./images/earshot-games_coop.png?version=1.4" width="35px"></span>`
                  : ``}  
              </div></div--> 
              <!--div class="ratingWrapper"-->
              <!--div id="${objectid}_slide" class="ratingWrapper" onClick='toggleRating(event, ${ratingInPercentage}, ${gameRatingAverage})'>
                <div id='star_slide' class="ratingStar" style="height:100%; width: ${ratingInPercentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div> 
                </div>          
            </div>  
            <div onClick="showFind(${objectid})" class="barcode" style="position:relative; width:80px; height:80px">	
              <div class="qrcode" id="slide_${objectid}_barcode"></div>
            </div-->      
          </div>
          </div>
          
          </div>
          `);

          QRCodeList.push(objectid)
          GameRating.push(data)
          //renderQRCode(`slide_${objectid}_barcode`, objectid);
        });
      } else {
        $(".slideshow-slider").html('<div class="text-center mt-4 pt-4"><h2 class="text-center" style="color:red;">NO GAME FOUND BASED ON FILTER CRITERIA.</h2></div>')
      }


      // Manual SlideShow View
      $("body").addClass("AnimateView");
      $(".list-slideshow-section").removeClass("d-none");
      $(".list-view-section").addClass("d-none");
      $(".detail-view-section").addClass("d-none");



      //console.log(QRCodeList.length, " Length in search")


      ///////////////////////////////////////////////
      /* slideStatus = "cycling"
      hideMenuButtons() */
      ///////////////////////////////////////////////
      // To generate first QR code only to save render time
      //renderSlideQRCode(`slide_${QRCodeList[0]}_barcode`, QRCodeList[0]);
      //renderSlideQRCode(`slide_${QRCodeList[QRCodeList.length-1]}_barcode`, QRCodeList[QRCodeList.length-1]);
      if(QRCodeList.length == 1) {
        //renderSlideQRCode(`slide_${QRCodeList[0]}_barcode`, QRCodeList[0]);
        updateGameInfo(GameRating[0], 0)
      } else if(QRCodeList.length > 1) {
        //renderSlideQRCode(`slide_${QRCodeList[0]}_barcode`, QRCodeList[0]);
        //renderSlideQRCode(`slide_${QRCodeList[QRCodeList.length-1]}_barcode`, QRCodeList[QRCodeList.length-1]);

        // gen single qr
        //renderSlideQRCode(`slide_barcode`, QRCodeList[0]);
        updateGameInfo(GameRating[0], 0)
      }
      ////////////////////////////////////////////
      initiateSlideShowSlider();
      ////////////////////////////////////////////

      setTimeout(function() {
        slides_loaded = true
        //generateQRCodeSlides()
        if(idleFrom == 'list') {
          MODE_TYPE = "slideshow"
          idleStatus = true
          if(MODE_TYPE == "slideshow") {
            //idleStatus = true
            $('.slideshow-slider').slick('slickPlay')
            slideStatus = "cycling"
            hideMenuButtons()
            clickedSlideID = -1
            /////////////////////////////////////////////
            // Hide Filter Box
            //hideFilterBox();
            CloseFilterBox()
            ////////////////////////////////////////////
          }
        }
        if(document.getElementById("splashScreen").style.opacity == 1) {
          $('.slideshow-slider').slick('slickPause')
        } else {
          $('.slideshow-slider').slick('slickPlay')
          slideStatus = "cycling"
        }
      }, 3000)

      // Automatic Slideshow View
      // toggleSlideShowView();

      ////////////////////////////////////////////////////////////////////////////////////////////////
      // New Change
      /* setTimeout(function() {
        //console.log(idleFrom, " >idleFrom")
        if(idleFrom == 'list') {
          MODE_TYPE = "slideshow"
          idleStatus = true
          if(MODE_TYPE == "slideshow") {
            //idleStatus = true
            $('.slideshow-slider').slick('slickPlay')
            slideStatus = "cycling"
            hideMenuButtons()
            clickedSlideID = -1
            /////////////////////////////////////////////
            // Hide Filter Box
            //hideFilterBox();
            CloseFilterBox()
            ////////////////////////////////////////////
          }
        }
      }, 350) */
      ////////////////////////////////////////////////////////////////////////////////////////////////

    }

    function updateGameInfo(gameInfo, index) {
      var gameRatingAverage = getBoardGameRatingAverage(gameInfo);


      //console.log(gameRatingAverage, ' -- ', GameRating)


      var ratingInPercentage = ((gameRatingAverage - 5)*5/3) * 20;
      if(ratingInPercentage < 0) {
        ratingInPercentage = 0
      } else if(ratingInPercentage > 100) {
        ratingInPercentage = 100
      }

      // Update Stat Info
      var playerStats = (gameInfo.minplayers == gameInfo.maxplayers) ? gameInfo.maxplayers : gameInfo.minplayers+"-"+gameInfo.maxplayers;
      var playtimeStats = (gameInfo.minplaytime == gameInfo.maxplaytime) ? gameInfo.maxplaytime : gameInfo.minplaytime+"-"+gameInfo.maxplaytime; 

      /*
      <img src="./images/earshot-games_time.png"width="35px"></span><span id="ageStat"><img src="./images/earshot-games_age.png"  width="35px">
      */
      document.getElementById('playerStat').innerHTML = '<img src="./images/earshot-games_player.png" width="35px"/>' + playerStats;
      document.getElementById('timeStat').innerHTML = '<img src="./images/earshot-games_time.png" width="35px"/>' + playtimeStats;
      document.getElementById('ageStat').innerHTML = '<img src="./images/earshot-games_age.png" width="35px"/>' + gameInfo.age + '+';
      /* document.getElementById("statGroup").style.opacity = 1
      document.getElementById("statGroup").style.transition = "opacity 1s"; */

      // Checking for coop games
      //console.log(Object(gameInfo).boardgamemechanic.includes("Cooperative Game"), " GGGGG")
      if(Object(gameInfo).boardgamemechanic != undefined && Object(gameInfo).boardgamemechanic.includes("Cooperative Game") == true) {
        document.getElementById("coopStat").style.display = 'block'
      } else {
        document.getElementById("coopStat").style.display = 'none'
      }

      
      // Update Rating
      //console.log(ratingInPercentage, " RATE")

      // revert back to star rating
      let element = document.getElementById('_slide')
      element.innerHTM = ''
      let nDiv = `<div id="star_slide_Out" class="ratingStar" style="width: ${ratingInPercentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
      element.innerHTML = nDiv 


      //document.getElementById('star_slide_Out').style.width = ratingInPercentage + '%'


      /* document.getElementById('star_slide_Out').style.opacity = 1
      document.getElementById("star_slide_Out").style.transition = "opacity 1s";
 */

      // generate bar code
      document.getElementById('slide_barcode').innerHTML = ''
      renderSlideQRCode(`slide_barcode`, QRCodeList[index]);
      /* document.getElementById('slide_barcode').style.opacity = 1
      document.getElementById("slide_barcode").style.transition = "opacity 1s"; */


      // add click event on Rating star
      var elm = document.getElementById('_slide');
      //elm.setAttribute("onclick","function() {('blah');");
      //console.log("gameRatingAverage", '---', gameRatingAverage)
      elm.onclick = function(ev) {toggleRatingOut(ratingInPercentage, gameRatingAverage)} 
    }

    $('.slideshow-slider').on('afterChange', function(event, slick, currentSlide, nextSlide1){
      //console.log("AFTER CHANGE - ", currentSlide)
      updateGameInfo(GameRating[currentSlide], currentSlide)
    })

    $('.slideshow-slider').on('beforeChange', function(event, slick, currentSlide, nextSlide1){
      //sliderCount = slick.slickCurrentSlide()
      //console.log("On Change - ", (currentSlide+1), " < ", slick.previousSlide)
      //console.log(slick.slickCurrentSlide(), " --- ")

      //console.log($('.slideshow-slider').next().find('img[data-srcset]'), " --- ")
      
      /* $('.slideshow-slider').next().find('img[data-srcset]').lazyLoadXT({
          show: true
      }); */

      //console.log("On Before change")

      /* document.getElementById("statGroup").style.opacity = 0
      document.getElementById("statGroup").style.transition = "opacity 0.5s";
      document.getElementById('star_slide_Out').style.opacity = 0
      document.getElementById("star_slide_Out").style.transition = "opacity 0.5s";
      document.getElementById('slide_barcode').style.opacity = 0
      document.getElementById("slide_barcode").style.transition = "opacity 0.5s"; */

      var nextSlide = 0
      var backSlide = 0

      // Remove Previous generated QR code
      //console.log(currentSlide, " ear curSlide")
      /* if(currentSlide == QRCodeList.length) {
        currentSlide = 0
        backSlide = QRCodeList.length
      } else if(currentSlide == 0) {
        backSlide = QRCodeList.length
      } else {
        backSlide = currentSlide-1
      } */

      /* if(currentSlide == QRCodeList.length-1) {
        currentSlide = 0
      } */

      /* if(currentSlide == 0) {
        backSlide = QRCodeList.length
      } else {
        backSlide = currentSlide
      } */

      //console.log(QRCodeList.length, " LLLL")
      let ratingActiveSlide = 0
      
      if(currentSlide == QRCodeList.length-1) {
        nextSlide = 0
        backSlide = QRCodeList.length-2
      } else if(currentSlide == 0) {
        nextSlide = 0
        backSlide = QRCodeList.length-2
      } else {
        nextSlide = currentSlide
        backSlide = currentSlide
      }

      /* if (Math.abs(nextSlide1 - currentSlide) == 1) {
        direction = (nextSlide1 - currentSlide > 0) ? "right" : "left";
      } else {
        direction = (nextSlide1 - currentSlide > 0) ? "left" : "right";
      } */

      

      //console.log(backSlide, " --- ", ratingActiveSlide, " N ", nextSlide)
      //console.log(direction, " dire")

      //console.log(nextSlide, " after curSlide ", backSlide)

      //console.log(currentSlide, " current slide ")

      /* if(document.getElementById(`slide_${QRCodeList[nextSlide+1]}_barcode`).innerHTML != '') {
        document.getElementById(`slide_${QRCodeList[nextSlide+1]}_barcode`).innerHTML = ''
      } */
      /* if(document.getElementById(`slide_${QRCodeList[currentSlide-1]}_barcode`).innerHTML != '') {
        document.getElementById(`slide_${QRCodeList[currentSlide-1]}_barcode`).innerHTML = ''
      } */

      /* if(document.getElementById(`slide_${QRCodeList[backSlide]}_barcode`).innerHTML != '') {
        document.getElementById(`slide_${QRCodeList[backSlide]}_barcode`).innerHTML = ''
      } */


      //console.log(document.getElementById(`slide_${QRCodeList[currentSlide+1]}_barcode`).innerHTML)
      //console.log(document.getElementById(`slide_${QRCodeList[currentSlide]}_barcode`).innerHTML)

      // Generate QR Code oly for the active slide
      //setTimeout(function() {
        //console.log(document.getElementById('barcode').length, " ---- ")
        // Back
        //renderSlideQRCode(`slide_${QRCodeList[backSlide]}_barcode`, QRCodeList[backSlide-1]);
        // Next
        //renderSlideQRCode(`slide_${QRCodeList[nextSlide+1]}_barcode`, QRCodeList[nextSlide+1]);

        /* if(direction == 'left') {
          // Generate Rating
          updateGameInfo(GameRating[backSlide-1])
        } else {
          updateGameInfo(GameRating[nextSlide+1])
        } */
      //}, 10)

    });

    // New Changes
    /* function generateQRCodeSlides() {
      $.each(QRCodeList, function(index, data) {
        renderQRCode(`slide_${data}_barcode`, data);
      })
    } */

    function showFind(id) {
      //console.log("Show Find - ", id)
      //console.log("show Find Click")

      if(MODE_TYPE == "slideshow") {

        ///////////////////////////////////////////////////////////////////////////////////

        /* sourceType = "slideshow"
        clickedSlideID = id;

        let customQRCodeText = getGameSheetQRCodeData(id)

        if(customQRCodeText == '') {

          $.each(boardgames, function (index, data) {
            var data_objectid = data['@attributes']['objectid'];
            if (clickedSlideID == data_objectid) {
              MODE_TYPE = "list"
              renderDetailsViewHTML(data);
              return;
            }
          });
        } else {
          window.open(customQRCodeText, "_new")
        } */

        ///////////////////////////////////////////////////////////////////////////////////

        /* if(clickedSlideID != id) {
          clickedSlideID = id
          viewSearchPanel()
        } else {
          //console.log("VD-1")
          clickedSlideID = id;
          $.each(boardgames, function (index, data) {
            var data_objectid = data['@attributes']['objectid'];
            if (clickedSlideID == data_objectid) {
              renderDetailsViewHTML(data);
              return;
            }
          });
        } */
      }
    }
    
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function toggleSlideShowView() {
      //if(document.getElementById("btnViewAll").style.opacity == 0) {return}
      MODE_TYPE = 'list'
      if($(".list-slideshow-section").hasClass("d-none")){
        //console.log("if")
        $("body").addClass("AnimateView");
        $(".list-slideshow-section").removeClass("d-none");
        $(".list-view-section").addClass("d-none");
        $(".detail-view-section").addClass("d-none");
      }else{
        //console.log("else- ", paged)
        $(".list-slideshow-section").addClass("d-none");
        $(".detail-view-section").addClass("d-none");
        if (paged != -1) {
          resetListPageContent(paged);
        } 
        $(".list-view-section").removeClass("d-none");
        $("body").removeClass('AnimateView');
      }

      // set Top buttons
      /* var cBoxPlayerStat = document.getElementById("cBoxPlayer").checked
      var cBoxTimeStat = document.getElementById("cBoxTime").checked
      var cBoxCoStat = document.getElementById("cBoxCo").checked
      var cBoxStategyStat = document.getElementById("cBoxStrategy").checked
      var cBoxStoryStat = document.getElementById("cBoxStory").checked
      var cBoxPartyStat = document.getElementById("cBoxParty").checked
      // Letters checkbox
      var cBoxAStat = document.getElementById("cBoxA").checked
      var cBoxBStat = document.getElementById("cBoxB").checked
      var cBoxCStat = document.getElementById("cBoxC").checked
      var cBoxDStat = document.getElementById("cBoxD").checked
      var cBoxEStat = document.getElementById("cBoxE").checked
      var cBoxFStat = document.getElementById("cBoxF").checked
      var cBoxGStat = document.getElementById("cBoxG").checked
      var cBoxHStat = document.getElementById("cBoxH").checked
      var cBoxIStat = document.getElementById("cBoxI").checked
      var cBoxJStat = document.getElementById("cBoxJ").checked
      var cBoxKStat = document.getElementById("cBoxK").checked
      var cBoxLStat = document.getElementById("cBoxL").checked
      var cBoxMStat = document.getElementById("cBoxM").checked
      var cBoxNStat = document.getElementById("cBoxN").checked
      var cBoxOStat = document.getElementById("cBoxO").checked
      var cBoxPStat = document.getElementById("cBoxP").checked
      var cBoxQStat = document.getElementById("cBoxQ").checked
      var cBoxRStat = document.getElementById("cBoxR").checked
      var cBoxSStat = document.getElementById("cBoxS").checked
      var cBoxTStat = document.getElementById("cBoxT").checked
      var cBoxUStat = document.getElementById("cBoxU").checked
      var cBoxVStat = document.getElementById("cBoxV").checked
      var cBoxWStat = document.getElementById("cBoxW").checked
      var cBoxXStat = document.getElementById("cBoxX").checked
      var cBoxYStat = document.getElementById("cBoxY").checked
      var cBoxZStat = document.getElementById("cBoxZ").checked
      var cBox123Stat = document.getElementById("cBox123").checked

      if(cBoxPlayerStat == false && cBoxTimeStat == false && cBoxCoStat == false && cBoxStategyStat == false && cBoxStoryStat == false && cBoxPartyStat == false && cBoxAStat == false && cBoxBStat == false && cBoxCStat == false && cBoxDStat == false && cBoxEStat == false && cBoxFStat == false && cBoxGStat == false && cBoxHStat == false && cBoxIStat == false && cBoxJStat == false && cBoxKStat == false && cBoxLStat == false && cBoxMStat == false && cBoxNStat == false && cBoxOStat == false && cBoxPStat == false && cBoxQStat == false && cBoxRStat == false && cBoxSStat == false && cBoxTStat == false && cBoxUStat == false && cBoxVStat == false && cBoxWStat == false && cBoxXStat == false && cBoxYStat == false && cBoxZStat == false && cBox123Stat == false) {
        if(MODE_TYPE == 'list') {
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-filter");
          document.getElementById("btnFindList").classList.add("btn-outline-primary");
        } else {
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-filter");
          document.getElementById("btnFindSlide").classList.add("btn-outline-primary");
        }
      } else {
        if(MODE_TYPE == 'list') {
          document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindList").classList.remove("btn-outline-primary");
          document.getElementById("btnFindList").classList.add("btn-outline-primary-filter");
        } else {
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
          document.getElementById("btnFindSlide").classList.remove("btn-outline-primary");
          document.getElementById("btnFindSlide").classList.add("btn-outline-primary-filter");
        }
      } */
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function renderListViewItem(data) {
      //console.log("RENDER LIST")
      //if(settingLoaded == false || privateLoaded == false || gameLoaded == false) {return}

      //console.log(data, " data")
      var objectid = data['@attributes']['objectid'];
      //console.log(boardgameBasicData[objectid].status['@attributes']['own'], " game list")
      var isOwn = boardgameBasicData[objectid].status['@attributes']['own']
      //console.log(isOwn, " List View")
      if(isOwn == 0) {return}
      //console.log("Created")
      var boardgameDesc = data.description;
      if (boardgameDesc.length > 700) {
        textContent = boardgameDesc.substr(0, 690) + '...';
        // boardgamesContent = textContent.replace(/^\s+|\s+$/gm,'');
      } else {
        textContent = boardgameDesc;
      }
      // addSliderSlide(data);
      var boardGameDesigner = getBoardGameDesigner(data);
      var boardGameDesignerTitle = boardGameDesigner == undefined ? '' : boardGameDesigner


      var boardGameName = getBoardGameName(data);
      var gameRatingAverage = getBoardGameRatingAverage(data);


      ////////////////////////////////////////////////////////////////////////////////////
      //console.log(gameRatingAverage, " >>> game rating average")
      //var ratingInPercentage = ((gameRatingAverage*100)/5);

      /* var ratingInPercentage = (((Math.floor(gameRatingAverage) - 6) * 5/2) * 10) + (((Math.floor(gameRatingAverage) - 6) * 5/2) * 10)
      if(ratingInPercentage > 100) {
        ratingInPercentage = 100
      } */
      /* var ratingInPercentage = 0
      if(gameRatingAverage <= 6) {
        ratingInPercentage = 0
      } else {
        ratingInPercentage = 100
      } */
      ////////////////////////////////////////////////////////////////////////////////////
      // New Rating System
      //var ratingInPercentage = ((gameRatingAverage - 6)*5/2) * 20;

      // Prev logic
      /* var ratingInPercentage = ((gameRatingAverage - 5)*5/2) * 14; */
      // New Logic
      var ratingInPercentage = ((gameRatingAverage - 5)*5/3) * 20;

      if(ratingInPercentage < 0) {
        ratingInPercentage = 0
      } else if(ratingInPercentage > 100) {
        ratingInPercentage = 100
      }

      ////////////////////////////////////////////////////////////////////////////////////
     //console.log(data.boardgamemechanic, " >>> checking for coop")
      ////////////////////////////////////////////////////////////////////////////////////

      var playerStats = (data.minplayers == data.maxplayers) ? data.maxplayers : data.minplayers+"-"+data.maxplayers;
      var playtimeStats = (data.minplaytime == data.maxplaytime) ? data.maxplaytime : data.minplaytime+"-"+data.maxplaytime; 

      var imagePath = data.image == undefined ? 'images/earshot-games_default.png' : data.image
      var yearPublish = (data.yearpublished == undefined || data.yearpublished == 0 ) ? '' : data.yearpublished

      //  console.log("ratingInPercentage ", ratingInPercentage);
      $(".cardList").append(`
          <div class="mt-3">
            <div class="card game-card border-0 bg-light" id="list-game-${objectid}">
              <div class="card-header border-0 bg-transparent">
                <div class="row">
                  <div class="col-md-7">
                    <h2 class="view-details game-title pointer-cursor display-5 font-DINCondensed text-primary" data-objectid="${objectid}" data-sourceType="list">${boardGameName} <sup class="text-black font-DINCondensed sup-small">${yearPublish/* data.yearpublished */}</sup></h2>
                    <h5 class="font-DINCondensed mb-0 game-designer">${boardGameDesignerTitle/* boardGameDesigner */}</h5>
                  </div>
                  <div class="col-md-5 text-md-right">
                    <div class="text-right" data-objectid="${objectid}"><div class="metaGroup"><span><img src="./images/earshot-games_player.png" width="35px">${playerStats}</span><span><img src="./images/earshot-games_time.png"width="35px">${playtimeStats}</span><span><img src="./images/earshot-games_age.png" width="35px">${data.age}+</span>
                      ${data.boardgamemechanic != undefined && data.boardgamemechanic.includes("Cooperative Game") == true
                      ?
                      `<span><img src="./images/earshot-games_coop.png?version=1.4" width="35px"></span>`
                      : ``}
                    </div></div>  
                    <div id="${objectid}" class="ratingWrapper" onClick='toggleRating(event, ${ratingInPercentage}, ${gameRatingAverage})'>
                     
                      <div id="star" class="ratingStar" style="width: ${ratingInPercentage}%"> 
                        <span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span>
                      </div> 
                      
                    </div>
                  </div>
                </div>                
            </div>
            <div class="card-body">
            <div class="row">
              <div class="col-lg-3">
                <div class="img-box">
                  <img src="${imagePath/* data.image */}" class="img-fluid view-details pointer-cursor" data-objectid="${objectid}" data-sourceType="list" >
                </div>  
                <div class="view-details d-none d-md-block" data-objectid="${objectid}" data-sourceType="list">
                  <!--h5 class="pointer-cursor text-danger m-0 font-DINCondensed text-uppercase">More</h5-->
                  <button class="btn btn-outline-primary text-uppercase" style="position: relative; margin-top:5px; z-index:0;">View</button>
                </div>
              </div>
               <div class="col-lg-9">  
                <div class="font-DINCondensed text-large">${textContent}</div>
               </div>
                <div class="col-12 d-block d-md-none">                
                  <div class="view-details" data-objectid="${objectid}" data-sourceType="list">
                    <!--h5 class="pointer-cursor text-danger m-0 font-DINCondensed text-uppercase">More</h5-->
                    <button class="btn btn-outline-primary text-uppercase" style="position: relative; margin-top:5px; z-index:0">View</button>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>`);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function toggleRatingOut(_percentage, _bggRating) {

      //console.log(Number(_bggRating).toFixed(2), " ---- ", _bggRating)

      var elm = document.getElementById('_slide')
      //console.log(elm.innerHTML.split('id=')[1].split(" ")[0], " Selected ID ", elm)
      RATING_MODE = elm.innerHTML.split('id=')[1].split(" ")[0]

      if(RATING_MODE == null) {return}
      elm.innerHTML = ""
      if(RATING_MODE == '"star"' || RATING_MODE == '"star_d"' || RATING_MODE == '"star_slide_Out"') {
        //RATING_MODE = 'bgg'
        //console.log(elm.innerHTML)
        if(RATING_MODE == '"star"') {
          nDiv = `<div id="bgg" class="ratingStar" style="width:100%"><p>BGG Rating : ${Number(_bggRating).toFixed(2)}</p></div>`
        } else if(RATING_MODE == '"star_d"') {
          nDiv = `<div id="bgg_d" class="ratingStar" style="width:100%"><p>BGG Rating : ${Number(_bggRating).toFixed(2)}</p></div>`
        } else {
          nDiv = `<div id="bgg_slide" class="ratingStar" style="width:100%"><p>BGG Rating : ${Number(_bggRating).toFixed(2)}</p></div>`
        }
      } else {
        //RATING_MODE = 'star'
        if(RATING_MODE == '"bgg"') {
          nDiv = `<div id="star" class="ratingStar" style="width: ${_percentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
        } else if(RATING_MODE == '"bgg_d"') {
          nDiv = `<div id="_d" class="ratingStar" style="width: ${_percentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
        } else {
          nDiv = `<div id="star_slide_Out" class="ratingStar" style="width: ${_percentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
        }
      }
      elm.innerHTML = nDiv 
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function toggleRating(event, _percentage, _bggRating) {
      /* toggleRatingClick = false
      if(clickedSlideID == -1) {return}
      toggleRatingClick = true */
      //console.log("Toggle Rating Click - ", clickedSlideID)
      //console.log(event.target.parentElement.parentElement.id)
      var elm = document.getElementById(event.target.parentElement.parentElement.id)
      //console.log(elm.innerHTML.split('id=')[1].split(" ")[0], " Selected ID ", elm)
      /* var elm = document.getElementById("sss")*/
      RATING_MODE = elm.innerHTML.split('id=')[1].split(" ")[0]

      console.log(elm, " --- ", RATING_MODE)

      if(RATING_MODE == null) {return}
      elm.innerHTML = ""
      if(RATING_MODE == '"star"' || RATING_MODE == '"star_d"' || RATING_MODE == '"star_slide"') {
        //RATING_MODE = 'bgg'
        //console.log(elm.innerHTML)
        if(RATING_MODE == '"star"') {
          nDiv = `<div id="bgg" class="ratingStar" style="width:100%"><p>BGG Rating : ${_bggRating.toFixed(2)}</p></div>`
        } else if(RATING_MODE == '"star_d"') {
          nDiv = `<div id="bgg_d" class="ratingStar" style="width:100%"><p>BGG Rating : ${_bggRating.toFixed(2)}</p></div>`
        } else {
          nDiv = `<div id="bgg_slide" class="ratingStar" style="width:100%"><p>BGG Rating : ${_bggRating.toFixed(2)}</p></div>`
        }
      } else {
        //RATING_MODE = 'star'
        if(RATING_MODE == '"bgg"') {
          nDiv = `<div id="star" class="ratingStar" style="width: ${_percentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
        } else if(RATING_MODE == '"bgg_d"') {
          nDiv = `<div id="star_d" class="ratingStar" style="width: ${_percentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
        } else {
          nDiv = `<div id="star_slide" class="ratingStar" style="width: ${_percentage}%"><span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></div>`
        }
      }
      elm.innerHTML = nDiv 
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function getBoardGameName(data) {
      var objectid = data['@attributes']['objectid'];
      //console.log(boardgameBasicData[objectid]['name'], " GAME NAME")
      return boardgameBasicData[objectid]['name'];
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function getBoardGameRatingAverage(data) {
      var objectid = data['@attributes']['objectid'];
      return boardgameBasicData[objectid]['rating'];
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function getBoardGameDesigner(data) {
      if ($.isArray(data.boardgamedesigner)) {
        var boardgamedesigner = '';
        $.each(data.boardgamedesigner, function (index, value) {
          boardgamedesigner += (boardgamedesigner != '') ? ' & ' + value : value;
        });
        return boardgamedesigner;
      } else {
        return data.boardgamedesigner;
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function getBoardGamePublisher(data) {
      if ($.isArray(data.boardgamepublisher)) {
        return data.boardgamepublisher[0];
      } else {
        return data.boardgamepublisher;
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function addSliderSlide(data) {
      var boardGameName = getBoardGameName(data);
      var objectid = data['@attributes']['objectid'];
      var imagePath = data.image == undefined ? 'images/earshot-games_default.png' : data.image

      $('.image_slider').append(`<div class="slider_item"><div class="image-outer"><a href="javascript:;" class="games-slider-item" data-objectid="${objectid}"><img src="${imagePath/* data.image */}" class="img-fluid" id="sliderImg" data-BoardgamesId="${objectid}"></a></div><a href="javascript:;" data-objectid="${objectid}" data-BoardgamesId="${objectid}" class="text-uppercase font-DINCondensed text-truncate m-0 p-2 text-center overflow-hidden text-nowrap slide_item_title games-slider-item">${boardGameName}</a></div>`);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function initiateSlickSlider() {
      $('.image_slider').slick({
        lazyLoad: 'anticipated',
        infinite: true,
        slidesToShow: 5,
        slidesToScroll: 3,
        dots: false,
        arrows: true,
        infinite: 0,
        autoplay: true,
        autoplaySpeed: 1000,
        prevArrow:'<img class="a-left control-c prev slick-prev" src="images/earshot-games_btn_left.png" style="width:25px; height:auto; left:-25px; z-index:1;">',
          nextArrow:'<img class="a-right control-c next slick-next" src="images/earshot-games_btn_right.png" style="width:25px; height:auto; right:-25px; z-index:1;">',
        responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 3,
              infinite: true,
              dots: false
            }
          },
          {
            breakpoint: 600,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 2
            }
          },
          {
            breakpoint: 480,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1
            }
          }
          // You can unslick at a given breakpoint now by adding:
          // settings: "unslick"
          // instead of a settings object
        ]
      });
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function initiateSlideShowSlider() {
      //console.log("Start slick anim")

      var slideTime = 5
      ///////////////////////////////////////////////////////////////
      /* $.each(settingDataList, function (index, row) {
        if(row["Profile"] == "BGG") {
          slideTime = row["SlideshowDelaySec"]
          if(slideTime == undefined) {
            slideTime = 5
          }
        }
      }) */
      $.each(settingDataList, function (index, row) {
        if(row["Name"] == "SlideshowDelaySec") {
          slideTime = row["Value"]
          if(slideTime == undefined || slideTime == '') {
            slideTime = 5
          }
        }
      })
      ////////////////////////////////////////////////////////////////

      //console.log(slideTime * 1000, " ---- ")


      $('.slideshow-slider').slick({
          lazyLoad: 'anticipated',
          infinite: true,
          slidesToShow: 1,
          slidesToScroll: 1,
          autoplay: true,
          autoplaySpeed: (slideTime * 1000),/* 5000, */
          initOnLoad: true,
          nextSlidesToPreload: 1,
          prevArrow:'<img class="a-left control-c prev slick-prev" src="images/earshot-games_btn_left.png" style="width:30px; height:auto; left:-28px; z-index:1;">',
          nextArrow:'<img class="a-right control-c next slick-next" src="images/earshot-games_btn_right.png" style="width:30px; height:auto; right:-28px; z-index:1;">',
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1,
                infinite: true,
                dots: false
              }
            },
            {
              breakpoint: 600,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1
              }
            },
            {
              breakpoint: 480,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1
              }
            }
          ]
      });

      ////////////////////////////////////////////////
      /* if($("#myModal2").is(":visible")) {
        $('.slideshow-slider').slick('slickPause');
        slideStatus = "active"
        showMenuButtons()
      } else {
        $('.slideshow-slider').slick('slickPlay');
        slideStatus = "cycling"
        hideMenuButtons()
      } */
      ////////////////////////////////////////////////
      $('.slideshow-slider').slick('slickPause')
      ////////////////////////////////////////////////

      // Call function
      //checkSlickStatus()

    }

    
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function initiateRelatedGamesSlider() {
      if ($('.related_games').find('div').length) {
        $('.related_games').slick({
          lazyLoad: 'anticipated',
          infinite: true,
          slidesToShow: 5,
          slidesToScroll: 2,
          autoplay: true,
          prevArrow:'<img class="a-left control-c prev slick-prev" src="images/earshot-games_btn_left.png" style="width:30px !important; height:auto; left:-30px; z-index:1;">',
          nextArrow:'<img class="a-right control-c next slick-next" src="images/earshot-games_btn_right.png" style="width:30px !important; height:auto; right:-30px; z-index:1;">',
          responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 1,
              infinite: true,
              dots: false
            }
          },
          {
            breakpoint: 600,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 1
            }
          },
          {
            breakpoint: 480,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1
            }
          }
        ]
        });
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    jQuery(document).ready(function ($) {
      /*$(document).on('click', ".games-slider-item", function () {
        var objectId = $(this).data("objectid");
        scrollPage("#list-game-" + objectId);
      });*/
      //////////////////////////////////////////////////////////////////////////////////////////////////
      $(document).click(function(event) {
        //if you click on anything except the modal itself or the "open modal" link, close the modal
        let toggleTimer = setTimeout(function() {
          clearTimeout(toggleTimer)
          if (!$("#myModal2").is(":visible") ) {
            //console.log("modal closed")
            // Make the button active
            if(MODE_TYPE == "list") {
              document.getElementById("btnFindList").classList.remove("btn-outline-primary-active");
              document.getElementById("btnFindList").classList.add("btn-outline-primary");
            } else {
              document.getElementById("btnFindSlide").classList.remove("btn-outline-primary-active");
              document.getElementById("btnFindSlide").classList.add("btn-outline-primary");

              //if(document.getElementById("btnFindSlide").style.opacity == 0) {
                // Restart slick
                // slideStatus = "cycling"
              //console.log(clickedSlideID, " ID")
              if(clickedSlideID == -1) {
                  /* slideStatus = "cycling"
                  $('.slideshow-slider').slick('slickPlay'); */
                  //console.log("ND-1")
              }

            } 
            
            /* $.each(boardgames, function (index, data) {
              var data_objectid = data['@attributes']['objectid'];
              if (clickedSlideID == data_objectid) {
                //renderDetailsViewHTML(data);
                //clickedSlideID = -1
                return;
              }
            }); */
          } /* else {
            if(MODE_TYPE == "slideshow") {
              slideStatus = "active"
              $('.slideshow-slider').slick('slickPause');
            } 
          }*/
        }, 500)
      });
      //////////////////////////////////////////////////////////////////////////////////////////////////
      $(document).on('click', ".page-number", function () {
       if(deviceType == "Mobile") {return}
        if($(this).hasClass('active') === false){
          // console.log("no Active Class!")
          paged = $(this).data('paged');
          resetListPageContent(paged);
        }
      });
      //////////////////////////////////////////////////////////////////////////////////////////////////
      $(document).on('click', ".page-pre", function () {
        if($(this).hasClass("disabled-link")){
          return;
        }
        paged = parseInt(paged) - 1;
        resetListPageContent(paged);
      });
      //////////////////////////////////////////////////////////////////////////////////////////////////
      $(document).on('click', ".page-next", function () {
        if($(this).hasClass("disabled-link")){
          return;
        }
        paged = parseInt(paged) + 1;
        resetListPageContent(paged);
      });
      //////////////////////////////////////////////////////////////////////////////////////////////////
      $(document).on('click', ".back-btn", function () {
        //console.log("sourceType ", sourceType)
        if(sourceType != ''){
            if(sourceType == 'slideshow'){
              displaySliderShowSection();
              hideListViewSection();
              hideDetailsViewSection();
              MODE_TYPE = "slideshow"

              //////////////////////////////////////////////////////////
              /* slideStatus = "cycling"
              $('.slideshow-slider').slick('slickPlay'); */
             //////////////////////////////////////////////////////////

            } else {
                if (paged) {
                  resetListPageContent(paged);
                }
                displayListViewSection();
                hideDetailsViewSection();
            }
        } else {
           if (paged) {
              resetListPageContent(paged);
            }
            displayListViewSection();
            hideDetailsViewSection();
            MODE_TYPE = "list"
        }
      });
      //////////////////////////////////////////////////////////////////////////////////////////////////
      $(document).on('click', ".view-details", function () {
        
        var objectid = $(this).data('objectid');
        sourceType = $(this).attr("data-sourceType");
        //console.log("Clicked on view details - ", MODE_TYPE)

        if(MODE_TYPE == "slideshow") {

          if(slides_loaded == false) {return}

          /* slideStatus = "stop" */
          //console.log($('.slideshow-slider').slick('slickPause').status, " >>>> ")
          //console.log(clickedSlideID, " >>>>")
          /* if(document.getElementById("btnFindSlide").style.opacity == 0) { */
            /////////////////////////////////////////////////////////////////////////////////////////////
          //if(clickedSlideID != objectid) {
            /* clickedSlideID = -1 */
            clickedSlideID = objectid
            /* showMenuButtons() */
            //viewSearchPanel()
          //} else {
            //console.log("VD-1")
            //clickedSlideID = $(this).data('objectid');

            /* $('.slideshow-slider').slick('slickPause'); */
            
            $.each(boardgames, function (index, data) {
              var data_objectid = data['@attributes']['objectid'];
              if (objectid == data_objectid) {
                MODE_TYPE = "list"
                renderDetailsViewHTML(data);
                return;
              }
            });
          //}
        } else {
          $.each(boardgames, function (index, data) {
            var data_objectid = data['@attributes']['objectid'];
            if (objectid == data_objectid) {
              renderDetailsViewHTML(data);
              return;
            }
          });
        }
        ////////////////////////////////////////////////////////////////////////////////////////////////////
      });

    });
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function scrollPage(element) {
      $('html, body').animate({
        scrollTop: $(element).offset().top
      });
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function renderDetailsViewHTML(data) {
      hideListViewSection();
      hideSliderShowSection();
      displayDetailsViewSection();
      var objectid = data['@attributes']['objectid'];
      var boardGameName = getBoardGameName(data);

      var boardGameDesigner = getBoardGameDesigner(data);
      var boardGameDesignerTitle = boardGameDesigner == undefined ? '' : boardGameDesigner

      var gameRatingAverage = getBoardGameRatingAverage(data);
      //var ratingInPercentage = ((gameRatingAverage*100)/5);

      ////////////////////////////////////////////////////////////////////////////////////

      //var ratingInPercentage = ((gameRatingAverage - 6)*5/2) * 20;
      // Prev Logic
      /* var ratingInPercentage = ((gameRatingAverage - 5)*5/2) * 14; */
      // New Logic
      var ratingInPercentage = ((gameRatingAverage - 5)*5/3) * 20;

      if(ratingInPercentage < 0) {
        ratingInPercentage = 0
      } else if(ratingInPercentage > 100) {
        ratingInPercentage = 100
      }

      ////////////////////////////////////////////////////////////////////////////////////



      var playerStats = (data.minplayers == data.maxplayers) ? data.maxplayers : data.minplayers+"-"   +data.maxplayers;
      var playtimeStats = (data.minplaytime == data.maxplaytime) ? data.maxplaytime : data.minplaytime+"-"+data.maxplaytime;

      var imagePath = data.image == undefined ? 'images/earshot-games_default.png' : data.image
      var yearPublish = (data.yearpublished == undefined || data.yearpublished == 0 ) ? '' : data.yearpublished

      $('.game-details').html(`       
            <div class="bg-light border-0 card game-card">
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-9 col-md-8">
                    <h3 class="font-DINCondensed game-title text-primary">${boardGameName} <sup class="sup-small" data-objectid="${data.objectid}">${yearPublish/* data.yearpublished */}</sup></h3>
                    <h5 class="font-DINCondensed game-designer">${boardGameDesignerTitle/* boardGameDesigner */}</h5>

                    <div class="row mt-3">
                      <div class="col-md-4">
                        <div class="img-box"><img src="${imagePath/* data.image */}" class="img-fluid"></div>
                        <div class="gamePrivateDataHTML details-game-${objectid}-private-data"></div>
                      </div>
                      <div class="col-md-8">
                        <div class="font-DINCondensed text-large">${data.description}</div>                        
                      </div>                    
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-4 text-md-right">
                    <div class="metaGroup_details_filter"><span><img src="./images/earshot-games_player.png" width="35px">${playerStats}</span><span><img src="./images/earshot-games_time.png"  width="35px">${playtimeStats}</span><span><img src="./images/earshot-games_age.png"  width="35px">${data.age}+</span>
                      ${data.boardgamemechanic != undefined && data.boardgamemechanic.includes("Cooperative Game") == true
                      ?
                      `<span><img src="./images/earshot-games_coop.png?version=1.4" width="35px"></span>`
                      : ``}
                    </div>
                    <!--div class="ratingWrapper"-->
                    <div id="${objectid}_d" class="ratingWrapper" onClick='toggleRating(event, ${ratingInPercentage}, ${gameRatingAverage})'>
                      <div id="star_d" class="ratingStar" style="width: ${ratingInPercentage}%"> 
                        <span>&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span>
                      </div> 
                    </div>
                    <!--<div data-level="50" class="game-level text-large bg-primary text-center text-uppercase my-2">
                      <span>Medium</span>
                    </div>-->
                    <div class="card text-left my-4">
                      <div class="card-header bg-alto py-1 px-2">MECHANICS</div>
                      <div class="card-body p-2"><div class="boardgamemechanic"> </div></div>
                    </div>
                    <div class="barcode">	
                      <div class="qrcode" id ="${objectid}_barcode"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          
            <h5 id='youlikeTxt' class="related_title">You might also like</h5>  
            <div class="related_games"></div>
          
           `);

      renderGamePrivateData(data, `.details-game-${objectid}-private-data`);
      boardgameMechanicData(data);
      renderRealetedBoardGameSlider();
      renderQRCode(`${objectid}_barcode`, objectid);
      scrollPage(".detail-view-section");
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function boardgameMechanicData(data) {
      var boardgameMechanic = '';
      if ($.isArray(data.boardgamemechanic)) {
        $.each(data.boardgamemechanic, function (gameMechanic, index) {
          boardgameMechanic += '<div>' + index + '</div>';
        });
      } else if(data.boardgamemechanic){
        boardgameMechanic = data.boardgamemechanic;
      }
      boardgameMechanic = (boardgameMechanic == '') ? 'No Mechanics' : boardgameMechanic;
      $('.boardgamemechanic').append(boardgameMechanic);
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function hideListViewSection() {
      $('.list-view-section').addClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function displayListViewSection() {
      $('.list-view-section').removeClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function hideDetailsViewSection() {
      $('.detail-view-section').addClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function displayDetailsViewSection() {
      $('.detail-view-section').removeClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function hideSliderShowSection() {
      $('.list-slideshow-section').addClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function displaySliderShowSection() {
      $('.list-slideshow-section').removeClass('d-none');
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function renderGamePrivateData(data, elementClass) {
      var objectid = data['@attributes']['objectid'];
      var gamePrivatedataHTML = '';
      $(document).find(elementClass).html(gamePrivatedataHTML).addClass('d-none');
      $.each(privateDataList, function (index, row) {
        if (row["Game ID"] == objectid) {
          $.each(row, function (key, value) {
            if (key != "Game ID" && key != "Game Name" && key != "Showcase" && key != "" && key != 'InfoUrl') {
              if(value != "") {
                //if(key == "Price") {
                  //gamePrivatedataHTML += "<div class=''><strong>" + key + ": </strong> <span style='color:gold' class=''>$" + value + " USD</span></div>";
                //} else {
                  //gamePrivatedataHTML += "<div class=''><strong>" + key + ": </strong> <span style='color:cyan' class=''>" + value + "</span></div>";
                  gamePrivatedataHTML += "<div class=''><strong>" + key + ": </strong> <span class=''>" + value + "</span></div>";
                //}
              }
            }
          });
          return;
        }
      });
      // console.log("gamePrivatedataHTML ", gamePrivatedataHTML);
      if(gamePrivatedataHTML != ''){
        $(document).find(elementClass).html(gamePrivatedataHTML).removeClass('d-none');
      }
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function shuffleArray(array) {
      let currentIndex = array.length,  randomIndex;
      // While there remain elements to shuffle.
      while (currentIndex != 0) {
        // Pick a remaining element.
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;
        // And swap it with the current element.
        [array[currentIndex], array[randomIndex]] = [
          array[randomIndex], array[currentIndex]];
      }
      return array;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function resetListPageContent(page) {
      //console.log("Global Paged ", page);  
      //console.log(boardgames.length, " --- ", page)

      let nextIndex = (page * 10);
      //console.log(page, " --- ", nextIndex)
      $(".cardList").html('');
      $(".cardList").scrollTop(0)

      $('.image_slider').slick('unslick'); /* ONLY remove the classes and handlers added on initialize */
      $('.image_slider').html('');
      for (var loop = 0; loop < 10; loop++) {
        if (boardgames[nextIndex]) {
          renderListViewItem(boardgames[nextIndex]);
          nextIndex += 1;
        }
      }
      //initiateSlickSlider();
      renderPaginationHTML();
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function getGameSheetQRCodeData(_gameId) {
      const originalArray = boardgames;
      const sortOrder = privateDataList;
      var gameQRCodeStr = ''
      if(privateDataList.length == 0) {
        gameQRCodeStr = ''
      } else {
      $.each(privateDataList, function (index, row) {
          if (row["Game ID"] == String(_gameId.toString())) {
            if(row["InfoUrl"] != "" || row["InfoUrl"] != undefined) {
              gameQRCodeStr = row["InfoUrl"]
            }
          }
        })
      }
      //console.log(gameObj, " LIST")
      return gameQRCodeStr

    }
    //////////////////////////////////////////////////////////////////////////////////////////////////
    function renderQRCode(element, gameID){

      ///////////////////////////////////////////////////////
      let QRText = ''
      let CustomQRText = getGameSheetQRCodeData(gameID)
      //console.log(CustomQRText, " CQRT")
      if(CustomQRText == '') {
        QRText = 'https://boardgamegeek.com/boardgame/' + gameID
      } else {
        QRText = CustomQRText
      }
      ///////////////////////////////////////////////////////
      const qrcode = new QRCode(element, {
        //text: 'https://boardgamegeek.com/',
        //text: 'https://boardgamegeek.com/boardgame/' + gameID,
        text: QRText,
        width: 120,
        height: 120,
        colorDark : '#000',
        colorLight : '#fff',
        correctLevel : QRCode.CorrectLevel.H
      });	
    }
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    function renderSlideQRCode(element, gameID){
      //console.log(gameID, " game ID")

      ///////////////////////////////////////////////////////
      let QRText = ''
      let CustomQRText = getGameSheetQRCodeData(gameID)
      //console.log(CustomQRText, " CQRT")
      if(CustomQRText == '') {
        QRText = 'https://boardgamegeek.com/boardgame/' + gameID
      } else {
        QRText = CustomQRText
      }
      ///////////////////////////////////////////////////////
      const qrcode = new QRCode(element, {
        //text: 'https://boardgamegeek.com/',
       /*  text: 'https://boardgamegeek.com/boardgame/' + gameID, */
        text: QRText, 
        width: 80,
        height: 80,
        colorDark : '#000',
        colorLight : '#fff',
        correctLevel : QRCode.CorrectLevel.H
      });	
    }
    ////////////////////////////////////////////////////////////////////////////////////////////////////

  </script>

</body>
</html>